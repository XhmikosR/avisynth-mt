<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="ru">
<head>
<meta http-equiv="Content-Language" content="ru">
   <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
	<link rel="stylesheet" type="text/css" href="../../avisynth.css">
   <title>ImageReader / ImageSource Filter</title>
<!--
Automatically generated, don't change:
$Id: imagesource.htm,v 1.8 2008/09/08 16:43:48 fizick Exp $
-->
</head>
<body>
<h2><a NAME="ImageSource"></a>ImageReader / ImageSource
</h2>
<p>
  <code>ImageReader </code>(<var>string &quot;file&quot;, int &quot;start&quot;, int &quot;end&quot;,
  float &quot;fps&quot;, bool
&quot;use_DevIL&quot;, bool &quot;info&quot;, string &quot;pixel_type&quot;</var>)<br>
  <code>ImageSource </code>(<var>string &quot;file&quot;, int &quot;start&quot;, int &quot;end&quot;,  float &quot;fps&quot;, bool
&quot;use_DevIL&quot;, bool &quot;info&quot;, string &quot;pixel_type&quot;</var>)
<p><code>ImageReader</code> присутствует в v2.52, он заменяет плагин от WarpEnterprises, 
с незначительными функциональными изменениями. 
C v2.55 <code>ImageSource</code> является эквивалентным, с некоторыми небольшими изменениями функциональности.
<code>ImageSource</code> быстрее чем <code>ImageReader</code> при импорте одного изображения.


<p><var>file</var>: шаблон для имен файлов изображений, где номер кадра может быть указан с использованием 
<cite><a href="http://www.cplusplus.com/ref/cstdio/sprintf.html">
синтаксиса команды sprintf языка С++</a></cite>. 
Для примера, файлы, записанные фильтром <code><a href="imagewriter.htm">ImageWriter</a></code>
 с параметрами по умолчанию, могут быть указаны как "c:\%06d.ebmp".
С v2.56, если шаблон указывает на одиночный файл, то этот файл читается один раз, 
и последовательно возвращается для всех запрошенных кадров.

<p><var>start</var> = 0, <var>end</var> = 1000: Указывает начальный и конечный номер, 
используемые для генерации имени файла. 
Файл, соответствующий <var>start</var> всегда является кадром с номером 0 клипа, 
файл, соответствующий <var>end</var>является кадром с номером (end-start). 
Результирующий клип имеет (end-start+1) кадров. 
  '<var>end</var>=0' НЕ значит "нет верхней границы" как в случае <tt><code><a href="imagewriter.htm">ImageWriter</a></code></tt>.
   Первый файл (т.е. соответствующий "file" после "start") ДОЛЖЕН существовать чтобы параметры изображения были считаны правильно.
Любые пропущенные в последовательности файлы заменяются пустым (черным) кадром.

<p><var>fps</var> = 24: число кадров в секунду в возвращаемом клипе. 
В версиях ранее <em>v2.55</em> величина была целой (сейчас - с плавающей десятичной точкой).

<p><var>use_DevIL</var> = false: когда false, делается попытка распознать (parser) (E)BMP файлы внутренней подпограммой,
 при неудаче вызывается обработка (подпрограммой библиотеки) DevIL. 
 Когда true, выполнение программы передается прямо на обработку DevIL.
  Это необходимо использовать если имеются ВМР файлы,
   которые не хочется считывать с помощью внутреннего распознавателя (Е)ВМР из <tt><code>ImageReader</code></tt>.  

<p><u>ПРИМЕЧАНИЕ</u> : DevIL версии 1.6.6, поставляемая с Avisynth, некорректно
   поддерживает типы файлов DIB/BMP, которые используют палитру, это включает 8 бит RGB,
   монохромные, RLE8 и RLE4.  Так как сбой обычно катастрофический,   
   то с версии 2.56, внутренняя обработка BMP автоматически не сбивается на
   обработку DevIL. Вынужденная обработка DevIL для этих типов
   в настоящее время не рекомендуется.
	            
<p><var>info</var> = false: когда равно true, в каждый кадр пишется исходное имя файла (добавлено в <em>v2.55</em>).

<p><var>pixel_type</var> = rgb24: Позволяет указать выходной формат пикселов,
  поддерживаются как rgb24 так и rgb32. Альфа канал загружается только для rgb32
  и только если DevIL поддерживает его для загружаемого формата изображения. (добавлено в <em>v2.56</em>).

<p>Если используется DevIL, то результирующий клип выдается в RGB24, иначе в том виде,
 в котором был записан ЕВМР (все форматы AviSynth поддерживаются).
<pre># параметры по умолчанию : считывается 1000-кадровая родная AviSynth ЕВМР последовательность (при 24 фпс)
ImageSource()

# Считывает файлы от &quot;100.jpeg&quot; до &quot;199.jpeg&quot; в NTSC клип
ImageSource(&quot;D:\%d.jpeg&quot;, 100, 199, 29.97)  
# фпс с плавающей точкой доступен с v2.56

# Считывает файлы с &quot;00.bmp&quot; до &quot;50.bmp&quot; пропуская внутренний считыватель ВМР AviSynthа
ImageSource(&quot;D:\%02d.bmp&quot;, end = 50, use_DevIL = true)

# Считывает одно изображение, повторяет 300 раз
ImageSource(&quot;D:\static.png&quot;, end = 300)  
# намного, намного быстрее с v2.56
</pre>

<p>* &quot;EBMP&quot; это AviSynth расширение стандартного RIFF формата изображения от Microsoft,
 которое позволяет сохранять необработанную YUY2 и YV12 информацию о изображении.
  См <a href="imagewriter.htm">ImageWriter</a> для большей информации.
</p>

<p><kbd>
$English Date: 2007/05/17 20:56:14 13:04:12 $ <br>
Русский перевод 09.05.2005 Drakon Rider <a href="http://drakan.ru">drakan.ru</a><br>
Обновление 09.07.2005-11.06.2007 Fizick http://bag.hotmail.ru
</kbd></p>
<form><input TYPE="Button" VALUE="Назад"
onClick="history.go(-1)"></form>
</body>
</html>