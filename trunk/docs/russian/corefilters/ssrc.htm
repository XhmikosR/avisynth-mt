<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="ru"><head>
<meta http-equiv="Content-Language" content="ru">
  <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
  
  <title>SSRC Filter</title><link rel="stylesheet" type="text/css" href="../../avisynth.css"><!--
Automatically generated, don't change:
$Id: ssrc.htm,v 1.5 2008/12/22 21:26:22 fizick Exp $
-->
</head>

<body>
<h2>
<a href="#Tone" name="SSRC"></a>SSRC
</h2>
<p><code>SSRC </code>(<var>int samplerate, bool "fast"</var>)
</p>
<p><code>SSRC</code> (Shibata Sample Rate Converter) - преобразователь
частоты дискретизации аудио. Звук всегда преобразовывается к типу
float. Этот фильтр дает лучшее качество преобразования, чем
<a href="resampleaudio.htm"><code>ResampleAudio</code></a>.<br>
В нем использован алгоритм SSRC от <a href="http://shibatch.sourceforge.net/"><cite>Naoki
Shibata</cite></a>, который предлагает наилучшее качество преобразования
 из имеющихся .<br>
<br>
Частоты дискретизации 44.1 кГц и 48 кГц популярны в использовании, но
пропорция этих двух частот
147:160, а это не малые числа. Однако преобразование частоты
дискретизации без ухудшения качества звука требует фильтра очень 
высокого порядка, и трудно достичь одновременно качества и
скорости работы. Этой программе удалось достичь относительно высокой
скорости и высокого качества путем мастерски скомбинированных фильтров
двух разных видов.<br>
<br>
<b>Параметры:</b></p>
<table border="1" width="100%">
  <tbody>
    <tr>
      <td width="9%">samplerate</td>
      <td width="91%">Частота дискретизации должна быть целым числом<br>
      </td>
    </tr>
    <tr>
      <td width="9%">fast</td>
      <td width="91%">Это разрешает более быструю обработку при
некотором понижении качества. Запретите быструю работу, если
выполняется&nbsp; сильное преобразование частот (с фактором более 2).
По умолчанию: true - быстрая работа.</td>
    </tr>
  </tbody>
</table>
<p>SSRC не может работать с произвольными соотношениями частот входного
и выходного клипов. Разрешены только следующие соотношения (смотри
SSRC.c):</p>
<pre>sfrq = Частота дискретизации исходного клипа
dfrq = Частота дискретизации результирующего клипа
frqgcd = gcd(sfrq,dfrq)   &lt;- наибольший общий делитель
fs1 = dfrq * sfrq / frqgcd
Преобразование возможно если: (fs1/dfrq == 1) или (fs1/dfrq % 2 == 0) или (fs1/dfrq % 3 == 0)
пример проверки возможного преобразования:
sfrq = 44.1 kHz<br>dfrq = 48 kHz
frqgcd = gcd(44100,48000) = 300
fs1 / dfrq = sfrq / frqgcd = sfrq / gcd(sfrq,dfrq) = 44100/300 = 147
и 147%3=0 так как 147 / 3 = 49 = целое</pre>
<p>Найти частоту дискретизации исходного клипа можно так
</p>
<pre>AviSource(...)
Subtitle(string(c.AssumeFPS(23.976,sync_audio=true).AudioRate))</pre>
<p><b>Пример:</b></p>
<pre># Понизить частоту дискретизации до 44,1 кГц:<br>SSRC(44100)</pre>
<p><b>История изменений:</b></p>
<table border="1" width="100%">
  <tbody>
    <tr>
      <td width="9%"> v2.54</td>
      <td width="91%">&nbsp; Исходная реализация<br>
      </td>
    </tr>
  </tbody>
</table>
<p>Права собственности на некоторые части SSRC: Copyright &copy;
2001-2003, Peter Pawlowski. All rights reserved.</p>
<p><kbd>$English Date: 2008/12/21 22:02:46 $<br>
Русский перевод 14.05.2005 Turyst04 <a href="mailto:Turyst04@nextmail.ru">Turyst04@nextmail.ru</a></kbd></p>
<form>
  <p><input value="Back" onclick="history.go(-1)" type="button"></p>
</form>
</body></html>