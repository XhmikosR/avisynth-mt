<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="ru">
<head>
<meta http-equiv="Content-Language" content="ru">
   <meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
   <title>ColorYUV Avisynth Filter</title>
   <link rel="stylesheet" type="text/css" href="../../avisynth.css">
<!--
Automatically generated, don't change:
$Id: coloryuv.htm,v 1.7 2008/12/11 20:34:44 fizick Exp $
-->
</head>
<body >
<h2>
<a NAME="ColorYUV"></a>ColorYUV
</h2>
<p><code>ColorYUV </code>(<var>clip, float "gain_y", float "off_y", float "gamma_y",
float "cont_y", float "gain_u", float "off_u", float "gamma_u", float "cont_u",<br>
  &nbsp;&nbsp;&nbsp;float "gain_v", float "off_v", float "gamma_v", float "cont_v", string
"levels", string "opt",<br>
  &nbsp;&nbsp;&nbsp;boolean "showyuv", boolean "analyze", boolean "autowhite",
boolean "autogain"</var>)

<p><code>ColorYUV</code> предоставляет много разных методов изменения цвета и яркости изображений.
 <tt>ColorYUV</tt> присутствует в AviSynth v2.5. Все установки для этого фильтра опциональные.
  Все значения по умолчанию равны "0". 

<p><var>gain</var>, <var>off</var>, <var>gamma</var> и <var>cont</var> 
могут быть установлены независимо для каждого канала.

<p>Параметр <var>gain</var> (усиление) определяет значение множителя для величины, 
и он расширяет сигнал относительно нижней границы диапазона. 
Чтобы Вас запутать, в фильтре  <a href="tweak.htm">Tweak</a> эта настройка называется <i>contrast</i>. 
Это означает, что если gain установлено в 0, то это соответствует отсутствию умножения величин (единичному множителю).
 Когда gain равно 256, все величины умножаются на 2 (в два раза ярче). Если gain равно 512, все величины умножаются на 3.
Таким образом если <var>gain</var> = k*256 для некого целого k, тогда яркость Y становится (k+1)*Y 
(аналогично для цветности). Хотя это и возможно, не имеет смысла прилагать эту настройку для цветности сигнала.

<p><var>off</var> (offset, смещение)) добавляет значение к величинам яркости или цветности. 
Offset установленный в 16, добавит 16 к величинам (интенсивности) пикселей. Off равный -32 вычтет 32 из величин всех пикселей.

<p><var>gamma</var> регулирует гамма-коррецию указанного канала.
 Значение gamma, равное 0, эквивалентно показателю гамма-коррекции, равному 1.0.
  Когда gamma установлено в 256, это эквивалентно показателю гамма-коррекции, равному 2.0.
   Значение параметра gamma допустимо до -256, где оно эквивалентно показателю гамма-коррекции, равному 0.0.

<p><var>cont</var> (контраст) также является множителем для величины, и он расширяет сигнал от середины диапазона.
Это означает, что если cont установлено в 0, то это соответствует отсутствию умножения величин (единичному множителю).
 Когда cont равно 256, все величины умножаются на 2 (в два раза ярче). Если cont равно 512, все величины умножаются на 3.
Таким образом если <var>cont</var> = k*256 для некого целого k (и нулевого gain), тогда яркость Y становится Y + k*(Y-128) 
(аналогично для цветности). Хотя это и возможно, не имеет смысла прилагать эту настройку для яркости сигнала.

<p><var>levels</var> (уровни) может быть установлено или "TV->PC" или "PC->TV". Это производит конверсию диапазона. 
Обычно значения YUV соответствуют не диапазону от 0 до 255 (диапазон ПЭВМ), но ограничены (диапазоном ТВ, 16-235 яркость и 16-240 цветность).
 Это производит конверсию между двумя форматами. 
 Если ничего не введено в качестве параметра, то никакой конверсии производиться не будет (действие по умолчанию).

<p><var>opt</var> может быть или "coring" (ограничение) или "" (ничего, установка по умолчанию).
 Указание "coring" ограничит YUV значения до разрешенного ТВ-диапазона. Иначе "недопустимые результаты" будут приняты.

<p><var>showYUV</var> может быть true или false. Это перезапишет исходное изображение изображением,
 показывающим все цветовые значения вдоль двух осей. 
 Это может быть полезно если надо отрегулировать цвет изображения,
  но необходимо выяснить как расставлены цвета. В верхнем левом углу изображения значения цветностей U, V равны "16".
   В правой стороне изображения U максимален. Внизу экрана V максимален. В центре оба сигнала равны 128 (или серое поле). 
 Яркость в кадре 0 равна 16, яркость в кадре 1 равна 17 и т.д.
 
<p><var>analyze</var> может быть true или false. Это выведет статистику по цветам на экран.
 Есть максимальные и минимальные значения для всех каналов. 
 Есть средние значения для всех каналов. Также есть "loose maximum" и "loose minimum" величины. 
 "Loose" (нестрогие) величины экстремумов не учитывают редкие очень яркие или очень темные шумовые пикселы,
  которые создают искусственно низкие или высокие минимумы/максимумы.

<p><var>autowhite</var> (авто баланс белого) может быть true или false. 
Эта установка будет использовать информацию из анализатора и пытаться центрировать цветовые смещения.
 Если имеется запись некоторого материала, в котором цвета сдвинуты в сторону одного из цветов, этот фильтр может помочь.
  Но надо быть осторожным - он не очень разумный - если исходный материал это чистое синее небо,
   то autowhite сделает его полностью серым ! 
   Если добавлены "off_u" или "off_v" параметры одновременно с autowhite, они не будут использованы !

<p><var>autogain</var> (АРУ) может быть true или false. Эта установка будет использовать информацию из анализатора,
 и пытаться создать настолько хороший контраст на сколько возможно.
  Это означает, что значения сигнала яркости (Y) будут масштабироваться 
  для достижения максимальных и минимальных допустимых величин. 
  Это будет работать как режим "автоусиления" (<span lang="en-us">autogain)
</span>на камерах, который усиливает темные сцены очень сильно, 
  и оставляет сцены с хорошим контрастом без обработки. 
  В некоторых местах эта обработка также называется "автоуровни" (autolevels).

<p>Величины насыщенности (sat), контрастности (cont) и яркости (bright) (как в <a href="tweak.htm"><code>Tweak</code></a> например)
 связаны с величинами в этом фильтре следующими соотношениями:
<p>cont_u = cont_v = (sat - 1) * 256
<br>cont_y = (cont - 1) * 256
<br>off_y = bright
<p>Насыщенность 0.8 дает например: cont_u = cont_v = - 0.2 * 256 = -51.2. 
Отметим, что в Tweak значения YUV будут всегда ограничены до допустимого для ТВ диапазона,
но в данном фильтре Вы должны для этого указать 
opt=&quot;coring&quot;.</p>
<p>&nbsp;
<pre>#&nbsp; Данный пример изменит показатель гамма-коррекции для всех каналов 
(хотя в меньшей степени для канала яркости) и уменьшит значения канала яркости (y).
colorYUV(gamma_y=128, gamma_u=256, gamma_v=256, off_y=-16)

#&nbsp; Показывает все цвета. Яркость в кадре 0 равна 16, яркость в кадре 1 равна 17 и т.д..
colorYUV(showyuv=true)

#&nbsp; Восстанавливает видность изображения очень плохих записей.
colorYUV(autogain=true, autowhite=true)</pre>
<p><kbd>$English Date: 2008/12/11 19:53:34 $ <br>
Русский перевод 10.05.2005 Drakon Rider <a href="http://drakan.ru">drakan.ru</a><br>
Отредактировал и обновил 28.05.2005-11.12.2008 Fizick
</kbd></p>
<form><input TYPE="Button" VALUE="Назад"
onClick="history.go(-1)"></form>
</body>
</html>