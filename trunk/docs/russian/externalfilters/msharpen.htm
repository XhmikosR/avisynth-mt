<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html lang="ru">
<head>
  <meta content="text/html;charset=windows-1251" http-equiv="Content-Type">
  <title>MSharpen</title>
  <link rel="stylesheet" type="text/css" href="../../avisynth.css">
<!-- Automatically generated, don't change: 
$Id: msharpen.htm,v 1.1 2005/07/04 19:07:52 fizick Exp $ 
-->
</head>

<body>

<h1>MSharpen</h1>

<h2>Общая информация</h2>

<b>автор:</b> Donald A. Graft
<br>

<b>версия:</b> 1.10 beta 2<br>

<b>закачка:</b> <a href="http://neuron2.net/mine.html">http://neuron2.net/mine.html</a><br>

<b>категория:</b> Плагины для усиления / смягчения резкости<br>

<b>требования:</b> YV12 &amp; YUY2 &amp; RGB цветовые форматы
<hr>
<h2>Описание</h2>

Этот плагин для&nbsp;Avisynth реализует необычную концепцию в
пространственном увеличении резкости. Хотя
разработан специально для мультфильмов анимэ, он также работает вполне
хорошо на обычном видео. Этот фильтр очень эффективен в повышении
резкости важных краев без усиления шума.
<p>Эта версия MSharpen требует&nbsp;Avisynth версии 2.5 или выше.
Фильтр работает с источниками RGB32, YUY2, или YV12. В формате YUY2 он
повышает резкость только канала яркости. В RGB и YV12 форматах,
он&nbsp;повышает резкость всех трех цветовых каналов. Если вы
хотите&nbsp;повысить резкость только яркости
для&nbsp;RGB или YV12 источника, используйте
<code>ConvertToYUY2()</code>, обработайте, и затем преобразуйте обратно если хотите.
Во всех цветовых форматах, цвет включен в обнаружение деталей.
</p>

<p>Оправдание (существования) фильтра является простым. Наибольшей
неудовлетворенностью маской нерезкости (Unsharp Mask) (например)
является то, что установки силы достаточно высоко, чтобы обострить
важные края, также усиливает шум и малые детали.
MSharpen решает эту проблему эффективно путем обнаружения важных
краевых областей, и затем применения повышения резкости только к этим
областям.
Вы сначала устанавливаете параметр порога '<var>threshold</var>' так чтобы
выбирались желаемые края. Затем вы устанавливаете силу повышения
резкости <var>strength</var>.
Вы можете установить очень высокую силу повышения резкости без усиления
шума или мелких деталей (так как&nbsp;используется карта краев как
маска для повышения резкости). </p>

<h3>Синтаксис функции MSharpen</h3>
MSharpen использует именованные параметры. Это означает, что вы не
должны заботиться об упорядочивании параметров и можете просто
ссылаться на них по имени и поместить их в любом порядке в списке
параметров. Если вы опустите параметр, он примет его величину по
умолчанию.
Например, если вы хотите выполнить MSharpen с силой (<var>strength</var>) 100 и
разрешенной отладкой (<var>debug</var>), вы можете сказать просто:

<pre>MSharpen(strength=100, debug=true)</pre>

<p>Любая комбинация и порядок именованных параметров допустимы. Помните, однако,
что вы всегда должны включить пустые скобки, если вы не указываете параметров вообще.
</p>

<p>Вы также можете использовать обычный позиционный синтаксис без имен,
если вы предпочитаете. Корректный порядок параметров следующий:
</p>

<p><code>MSharpen</code> (<var>clip, int
"threshold", int "strength",
bool "highq", bool "mask", bool "debug"</var>)
</p>

<p>Так что вы можете просто использовать:
</p>

<pre>MSharpen(15, 100, true, false, false)</pre>

<h3>Изменение величин параметров по умолчанию</h3>
Если вы не любите значения по умолчанию, документированные ниже, вы
можете установить свои собственные стандартные значения по умолчанию.
Чтобы заменить умолчания, сначала создайте папку плагинов
Avisynth
и зарегистрируйте ее. Вы зарегистрируете ее путем помещения следующих
строк в текстовый файл названный 'plugin.reg', замены пути как следует,
и затем щелчком правой кнопкой мыши на иконке файла и выбором пункта
Слияние (Merge).

<pre>REGEDIT4

[HKEY_LOCAL_MACHINE\SOFTWARE\Avisynth]
"PluginDir2_5"="d:\\avisynthplugins"
</pre>

<p>(От перев. : при установке Avisynth 2.5 автоматически
создается папка и регистрируется путь типа "C:\Program Files\AviSynth
2.5\plugins", смотри <a href="../syntax.htm#autoloading">Автозагрузка плагинов</a>)</p>
<p>Затем, создайте файл с требуемыми умолчаниями (def) в папке плагинов. 
Например, чтобы установить по умолчанию highq=false для <code>MSharpen()</code>, 
сделайте файл, названный MSharpen.def и поместите в него эту строчку:
</p>

<p><var>highq</var> = false
</p>

<p>Вы можете перечислить так много присвоений параметров как хотите, по
одной в строке.
Не указанные предполагают величины, данные ниже. Конечно, вы можете
всегда заменить умолчания в ваших скриптах, когда вы вызываете функции.
Примечание: строки в файле умолчаний не должны содержать пробелов и
табуляций.
</p>

<p>Ниже приведен синтаксис для MSharpen (замените <i>список_параметров</i>
на&nbsp; разделенный запятыми ваш список именованных параметров):
</p>

<p><b>MSharpen(<i>список_параметров</i>)</b>
</p>

<p><var>threshold</var> (0-255, по умолчанию 10) (порог): Этот параметр
определяет, что обнаруживается (детектируется) как деталь края и, таким
образом, делается резче. Чтобы увидеть, какие области деталей краев
будут сделаны резче, используйте параметр '<var>mask</var>'.
</p>

<p><var>strength</var> (0-255,&nbsp;по умолчанию 100) (сила): Это есть
сила повышения резкости, которая будет приложена к областям деталей
краев. Она прилагается только к областям деталей краев, определенным
параметром '<var>threshold</var>'. Сила 255
является наибольшим повышением резкости.
</p>

<p><var>mask</var> (true/false,&nbsp;по умолчанию false) (маска): Если
установлена в true (правда), то области, которые должны быть сделаны
резче, показаны белыми на черном фоне. Используйте это, чтобы
установить уровень деталей, которые должны быть сделаны резче. Эта
функция также является базовым (простым) фильтром детектирования краев.
</p>

<p><var>highq</var> (true/false,&nbsp;по умолчанию true) (высокое
качество): Этот параметр позволяет вам пожертвовать скоростью для
качества детектирования деталей. Установите его в&nbsp;true (правда)
для наилучшего детектирования деталей. Установите его в false (ложь)
для максимальной скорости.
</p>

<p><var>debug</var> (true/false,&nbsp;по умолчанию false) (отладка):
Этот параметр разрешает отладочный вывод для утилиты DebugView. В
настоящее время, выводится только версия фильтра.
</p>

<h3>Авторские права</h3>

<p>
Copyright (C) 2003, Donald A. Graft, All Rights Reserved.<br>

Отклик/вопросы - на neuron2@attbi.com.
</p>

<p>Для обновлений и других фильтров/инструментов, посетите мой веб сайт:<br>

<a href="http://neuron2.net/">http://neuron2.net/</a>
</p>

<p><kbd>$English Date: 2004/08/13 21:57:25 $<br>
Русский перевод 04.07.2005 Fizick http://bag.hotmail.ru</kbd></p>

</body></html>