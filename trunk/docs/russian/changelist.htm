<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="ru">
<head>
<!--
Aautomatically generated, don't change: 
$Id: changelist.htm,v 1.36 2008/12/26 23:27:48 fizick Exp $ 
-->
    <meta http-equiv="Content-Language" content="ru">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
  <title>AviSynth 2 - История</title>


  <link rel="stylesheet" type="text/css" href="../avisynth.css">

</head>

<body>
<h1>Изменения версий Avisynth</h1>

<h2>Отличия от 2.57</h2>

<h3>Добавления</h3>
<p>
* Добавлен чешский перевод документации.<br>
* Добавлен польский перевод документации (от Slim, Krismen & Co).<br>
* Добавлен японский перевод документации (от niiyan).<br>
* Особая опция установщика установить avisynth.dll и др., но НЕ обновлять реестр (только распаковка).<br>
* Blankclip: добавлены параметры audio channels= и sample_type=.<br>
* ConvertAudio(cii) доступен для плагинов через env->Invoke().<br>
* Добавлен аспект, поворот и альфа шрифта к текстовым функциям.<br>
* Добавлен /* xxx */ блоковый комментарий.<br>
* Добавлен [* [* xxx *] *] гнездовые (вложенные) блоковые комментарии.<br>
* SetMemoryMax(0) теперь возвращает величину Memory Max.<br>
* Добавлен планарный YV12 цветовой формат к Compare()<br>
* ColorKeyMask: Позволяет независимый  уровень допуска для каждого канала.<br>
* Добавлено Tweak Hue/Saturation ограничение диапазона.<br>
* Добавлены AudioLevels и Color2 режимы к Histogram.<br>
* Добавление <strong>global OPT_UseWaveExtensible=True</strong> к вашему скрипту
  разрешает WAVE_FORMAT_EXTENSIBLE аудио выход.<br>
* Добавлена команда ShowTime(), подобно ShowSMPTE() но с миллисекундами.<br>
* Добавлены BlackmanResize() и Spline64Resize().<br>
* Модифицированы DeleteFrame()/DuplicateFrame() для обработки нескольких аргументов.<br>
* Добавлены Min()/Max() скрипт-функции.
</p>

<h3>Исправления ошибок</h3>
<p>
* Исправлена ShowFiveVersions() YV12 позиции цветности в нижней половине. Возврат.<br>
* Исправлена Histogram() Classic mode  - восстановлена яркость графика. Возврат.<br>
* Исправлена Compare() величины пикселов графика выхощие за пределы YUV.<br>
* Исправлена AddBorders() ограничение отрицательных величин.<br>
* Исправлено AviSource() декодирование в RGB24 логическая регрессия.<br>
* Добавлен обход для HuffYUV, Xvid чтения за концом входного буфера.<br>
* Исправлено значение current_frame во вложенных вызовах времени выполнения (Gavino).<br>
* Исправлено проверка перекрывающихся диапазонов аргументов Dissolve (gzarkadas).<br>
* Исправлена проблема многопоточности OpenDMLSource(). (QuaddiMM).<br>
* Исправлено несохраняемая строка имени переменной variableName в ConditionalReader.<br>
* Исправлены пропущенные обязательные аргументы в распознавателе FunctionTable::TypeMatch(). 
Ошибки в Dissolve (различные).<br>
* Исправлено DirectShowSource() QueryId() использование CoTaskMemAlloc как 
возвращаемой величины (Dean Pavlekovic).<br>
* Исправлено DirectShowSource() использование GraphBuilder объект для управление 
медиа (Avery Lee).<br>
* Исправлено DirectShowSource() удален вызов PulseEvent (Avery Lee).<br>
* Исправлено DirectShowSource() QueryAccept() модификация VideoInfo в 
выполняемом скрипте (Haali).<br>
* Исправлено распознавание аргумента Blankclip clip=.<br>
* Исправлено ImageReader неполностью инициировавшееся videoInfo.<br>
* Исправлена Layer реализация RGB32 100% альфа, использование level=257 (новое умолчание).<br>
* Исправлено avisynth_c.h avs_is_parity_known().<br>
* Исправлено C++ ConvertAudio::Saturate_int32() округление.<br>
* Исправлен WriteFile(), теперь помнит абсолютный путь к файлу.<br>
* Исправлен Info() питч кадра, показывает питч входного кадра.<br>
* Исправлено Invert() правого края переполнение / повреждение памяти.<br>
* Исправлен Histogram() классический режим, величины пикселов превышали пределы YUV.<br>
* Исправлена Histogram() инициализация цветности в 128.<br>
* Исправлен Conditional читатель/писатель неверно сохранял указатель IScriptEnvironment.<br>
* Исправлен YV12 Blur()/Sharpen() повреждение правых пикселов с не записываемыми входными кадрами.<br>
* Исправлен MMX Blur()/Sharpen() код до полной 8 бит точности.<br>
* Исправлены IsAudioFloat()/IsAudioInt() скрипт функции.<br>
* Исправлен превышение индекса кэша памяти предела SetMemoryMax().
</p>

<h3>Оптимизация</h3>

<p>
* DirectShowSource() convertfps=true добавить 0.5ms округление к ожидаемому времени отсчета. 
Улучшает выполнение с миллисекундно базированными DS сплиттерами.<br>
* DirectShowSource() FPS попробовать длительность 1-го кадра как последняя 
попытка.<br>
* DirectShowSource() convertfps зависит только от начального времени образца.<br>
* Переделан горизонтальный планарный масштабировщик, без ограничений на ширину или переписывания 2 байтов.<br>
* Обеспечены простые и быстрые примитивы вывода текста, смотри info.h<br>
* Сделано аудио кэширование действительно работающим.<br>
* Улучшения скорости Tweak.<br>
* Улучшения скорости Subtract.<br>
* Подстройка Overlay() ISSE Convert444ChromaToYV12 и также сделана версия MMX.<br>
* Реализован интерфейс PokeCache.<br>
* Усовершенствования управления кэшем и памятью.
</p>

<h3>Изменения</h3>
<p>
* Начальное значение Memory Max ограничено 512MB.<br>
* Memory Max по умолчанию восстановлено до четверти свободной памяти. Минимум 16Mb. Как в 2.5.7.<br>
* Проверка VFB буфера данных на NULL после выделения памяти malloc, если так, то Выход (Throw)!<br>
* Переведены ярлыки меню установщика.<br>
* Проверка UTF-8 и Unicode BOM префиксов и выдача полезного предупреждения.<br>
* Удален бесполезный current_sample из скриптового окружения времени выполнения.<br>
* Добавлена критическая секция к класу CAVIFileSynth.<br>
* Возможность многоязыковой поддержки установщика, спасибо
  Fizick, gzarkadas, Malow, manusse, niiyan, talen9, TiGR, Underground78, WarpEnterprises, Wracko.<br>
* FunctionTable::Lookup() теперь рассматривает именованные аргументы при выборе.<br>
* ImageWriter поддерживает отрицательные величины как -count для параметра End.<br>
* ChanegFPS() использует отбрасывание дробной части (floor) вместо округления (round) 
при вычислениях номера кадра источника.<br>
* Переделан в Динамически собираемый код преобразования rgb в yuy2.<br>
* Avisynth_c.h логические функции возвращают 1 для true вместо произвольного ненулевого.<br>
* Внутренний RGB2YUV() теперь копирует Alpha старший байт на выход.<br>
* CoUninitialize() делается немедленно для S_FALSE CoInitialize() возврата, то есть мы
  не держим счетчик использований COM.<br>
* Pfc, Softwire and SoundTouch обновлены и добавлены как зависимые проекты.<br>
* UPX обновлена до версии 2.03 (2006-11-07).<br>
* Величина Memory Max по умолчанию увеличена до половины минус 64Mb, если свободно свыше 256MB.<br>
* AVISource/WavSource отображают WAVEFORMATEXTENSIBLE назад к эквивалентному WAVEFORMATEX.<br>
* DirectShowSource() теперь распознает некорректный AM_MEDIA_TYPE подтип для
WAVE_FORMAT_EXTENSIBLE аудио, корректирует данные и принимает их.<br>
* DirectShowSource() теперь пытается использовать частичный граф из неудачного вызова RenderFile.<br>
* DirectShowSource() теперь детектирует и обрабатывает выровненные не на 32 бит строки изображения от плохих кодеков.<br>
* Crop(align=true) проверяет действительное выравнивание при каждом вызове GetFrame.<br>
* Ослаблено ограничение ширины YV12 ресайза, теперь кратно 2 вместо 4.<br>
* Отказы .AVSI при env->CreateScriptEnvironment() теперь доступны интерфейсу GetError().<br>
* SetCacheHints(CACHE_RANGE, n) будет теперь уступать кадры, чтобы удовлетворить SetMemoryMax().<br>
* CoInitialize()/CoUninitialize() теперь сделаны как часть создания/уничтожения ScriptEnvironment.<br>
* Много кода из ветви версии 2.6 включено. Типично IsYV12() заменено на IsPlanar().
</p>

<h2>Отличия от 2.56</h2>

<h3>Добавления</h3>

<p>
* Blur()/Sharpen() MMX=False опция для вынужденного использования C++ функций.<br>
* Попытка явно запросить входную частоту отсчетов от аудио кодека (Tritical).<br>
* Опция инсталлятора для avisynth.lib, avisynth.exp и avisynth.map файлов.<br>
* DirectShowSource() теперь устанавливает _HIRESOUTPUT свойство WMAudio Decoder DMO.	
  Позволяет 24 битные отсчеты и 6 канальное декодирование.<br>	
* Avisynth COM объект теперь поддерживает IAVIStreaming интерфейс. Многие приложения слепо	
  ожидают это и не могут загрузить AVS скрипты.<br>	
* Conditional Reader теперь также принимает T, F, Yes и No для логических данных.<br>
* DirectShowSource() протоколирует отладочные сообщения в лог-файл.<br>
* DirectShowSource() вынужденная установка числа кадров.<br>
* DirectShowSource() принимает аудиопотоки типа WAVE_FORMAT_IEEE_FLOAT.<br>
* Добавлена функция KillVideo().<br>
* TimeStretch теперь предоставляет настроечные параметры библиотеки SoundTouch.<br>
* Добавление <strong> global OPT_AllowFloatAudio=True </strong> к вашему скрипту
  разрешает выход аудио с плавающей точкой WAVE_FORMAT_IEEE_FLOAT.<br>
* Явный запрос всех каналов, доступных в аудиопотоке [acm AC3]<br>
* Явная попытка запросить float, 32 bit затем 24 bit отсчеты от аудио кодека.<br>
* Принимает сырые аудиопотоки типа WAVE_FORMAT_IEEE_FLOAT.<br>
* Добавлена опция установки, чтобы добавить пункт "Avisynth Script" в оболочку Explorer 
  для создания нового .avs файла.<br>
* Добавлены avs_delete_script_environment и avs_subframe_planar в avisynth_c интерфейс.<br>
* Трюк чтобы допустить работу Fraunhoffer MP3 кодека при wBitPerSample==16. (Squid_80)<br>
* Добавлен португальский перевод (RoLon), и частичный французский перевод (JasonFly)<br>
* Subtitle: Многострочный текст субтитров, установи аргумент LSP и используй \n. (foxyshadis, tateu)<br>
* xxxFPS("preset") строковые синонимы ряда величин FPS. (Tritical)<br>
* Лучшее детектирование и защита несоответствий avisynth_c вариантов cdecl/stdcall (Tritical).
</p>

<h3>Исправления ошибок</h3>

<p>
* Исправлена регрессия многочисленного кэша через кэш для бесскобочных вызовов (Tritical).<br>
* Исправлен DirectShowSource возврат серых кадров.<br>
* Исправлен DirectShowSource возврат установления аудиоформата.<br>
* Исправлен TCPDeliver YV12 перенос 50% данных.<br>
* Исправлен TCPDeliver делает Makewritable перед получением параметров.<br>
* Исправлен TCPDeliver  перенос аудио смещен на 4 байта.<br>
* Исправлены ошибки  граничные условия ядра ресайзера.<br>
* Исправлен крах Invert() с малыми ширинами.<br>
* Исправлен небольшая утечка памяти в Amplify().<br>
* Исправлены серые кадры с внутреним старт, стоп, старт, при инициализации DirectShowSource.<br>
* Исправлено AudioChannels() возвращал не ноль при отсутствии аудио (Tritical).<br>
* Исправлено ConvertFPS() в режиме смешения соотношение mix_ratio было неверным (Fizick).<br>
* Исправлена AviSource() обработка плохих AVI файлов, начинающихся
  с пропущенных пустых кадров, просто возвращая первый ключевой кадр.<br>
* Исправлена DirectShowSource() обработка пересогласования пинов.<br>
* Исправлена Overlay() обработка аргумента "PC_Range".<br>
* Исправлен SubTitle() крах при исчерпании ресурсов.<br>
* Исправлена проверка аргумента обрезки ресайзеров.<br>
* Исправлено текстовое сообщение о плохом аргументе оператора %.<br>
* Исправлена набивка аудиобуфера видеографикой при исключении. Теперь возвращает E_FAIL.
  Видеопоток в последующем будет возвращать текст ошибки в графической форме.<br>
* Исправлено в KillAudio() сброс nchannels и sample type в 0.<br>
* Исправлено в Conditional Reader переполнение буфера sscanf.<br>
* Исправлены расхождения времени Version() и VersionString().<br>
* Исправлены серьезные неточности в TimeStretch. Она все еще не с точностью до отсчета!<br>
* Исправлена обработка отрицательного целого аргумента для ApplyRange() and Animate().<br>
* Исправлен обработка инсталлятором перезаписываемых файлов с атрибутом "только для чтения".<br>
* Исправлены ConvertAudio SSE2 в Float тест выравнивания.<br>
* Исправлена генерация альтернативных имен (auto)LoadPlugin. (Tritical)<br>
* Исправлена переполнение блока памяти SaveString.<br>
* Исправлена ошибка $Plugin!Functionname!Param$. (Fizick)<br>
* Исправлена утечка держателя реестра в $PluginDir$ таблице. (Dave Brueck)<br>
* Исправлена утечка памяти avisynth_c.<br>
* Исправлено возвращение запертых/защищенных VBF's в LRU. (Tritical)<br>
* Исправлена обработка исключений SEH/C++ времени выполнения для XPsp2. (Tritical)<br>
* Исправлен CAVIStreamSynth::Read переполнение аудио буфера. (Avery Lee)<br>
* Исправлена утечка держателей DLL в LoadPlugin. (Tritical)<br>
* Исправлено Assert("text") больше не распознает % аргументы.<br>
* Исправлено распознавателя чисел возвращение неточного преобразования float.<br>
* Исправлена ConvertFPS() не обработка плоскостей цветности в режиме смешения.<br>
* Исправлена попытка использования узора ресайзера после уничтожения.<br>
* Исправлена функциональность ресайзера - субпиксельный сдвиг был нерабочим.<br>
* Исправлена Info() метрика автовыбора шрифта.<br>
* Исправлена ошибочная условная проверка float RHS.<br>
* Исправлены цвета в YUV ColorBars, теперь согласуются с BT.801-1.<br>
* TCPDeliver обновления: Клиент: Исправлено аварийное завершение, если клиент отсоединен.<br>	
* TCPDeliver обновления: Сервер: Помнит отсоединить клиентов при завершении.<br>
* Исправлены Turn*() YUY2 mod 2 высоты тесты.<br>	
* Исправлены AVISource() поврежденные сообщения об ошибках.<br>	
* Исправлена AVISource() прямая обработка пропущенных кадров (дропов).
</p>

<h3>Оптимизация</h3>

<p>
* Анализатор пытается предотвратить добавление к графу кэша к кэшу.<br>
* ImageSource() больше не использует статический буфер, использует кэш и freezeframe.<br>
* TCPDeliver большие улучшения буфера (взято из версии 2.6).<br>
* SubTitle() освобождает все ресурсы когда построен последний кадр клипа.<br>
* SubTitle() освобождает GDI ресурсы после создания текстовой карты.<br>
* ApplyRange() строит только две цепочки вместо 3.
</p>

<h3>Изменения</h3>

<p>
* TCPDeliver добавлена иконка, сделаны все ресурсы US English.<br>
* Avisynth.Map файл теперь генерится для выпускаемых версий.<br>
* ConvertTo*() and GreyScale() теперь принимает "Rec601" как пригодную матрицу.<br>
* DirectShowSource.dll сжата upx.<br>
* Обновил SoundTouch библиотеку до 1.3.1.<br>
* SoundTouch теперь доступна в RelSym сборке.<br>
* Animate нумерация целого аргумента больше не округляется к положительной бесконечности.
  Как положительная, так и отрицательная нумерации идентичны. то есь для Animate(0,
  10, "Foo", 0, 0, 10, -10), Foo's arg1 = -arg2 для всех кадров.<br>
* Выборочная ассоциация Открыть с Notepad для .avs файлов в инсталляторе
  теперь также включает файлы .avsi.<br>
* Инсталлятор теперь выдает диалог восстановления, если неперезаписываемые файлы
  встретятся при инсталляции. Пользователь может вручную исправить проблему
  и повторить установку этого файла.<br>
* SetMemoryMax() минимум теперь 4Mb вместо 16. (Tritical)<br>
* Удален предел автозагрузкиt 50 плагинов. (Tritical)<br>
* COM QueryInterface вызовы теперь возвращают S_OK вместо NULL.<br>
* Вызов функции, не имеющей аргументов, без скобок, теперь получает кэш. (Tritical)<br>
* Числа вне диапазона теперь вызывают ошибку времени компиляции.<br>
* xxxFPS(float) теперь использует продолженные доли, чтобы генерировать минимальную пару отношений. (Raymod2)<br>
* ChangeFPS(linear) теперь вызывает ошибку времени компиляции, если относительное изменение > 10.<br>
* ConvertFPS() режим смешения работает для всех форматов пиксела. (Tritical)<br>
* Info() реконструирована из обновлений 2.60.<br>
* TCPDeliver.dll сжата upx.<br>
* RGB ColorBars полосы +Q и -I, Hue теперь коректны, Luma НЕ ноль, чтобы достичь этого.<br>
* AVISource аудио больше не ограничено 2 каналами.<br>
* SaveString блоки памяти теперь выровнены на 32 бита.<br>
* По умолчанию планарные плоскости цветности выровнены на mod 16. Смотри SetPlanarLegacyAlignment().
</p>

<h2>Отличия от 2.55</h2>

<h3>Добавления</h3>

<p>
* Детектирование  поддерживающих SSE3 CPU в env->GetCPUFlags и Info().<br>
* RGB32 режим в TemporalSoften<br>
* *Resize(), src_height и src_width, если отрицательные, работают как в crop.<br>
* Добавлены опции к DirectShowSource (seekzero, timeout и pixel_type).<br>
* Добавлена AudioDubEx(), слепо принимает видео и аудио потоки.<br>
* Добавлена Load_Stdcall_Plugin(), синоним для LoadCPlugin()
  (не исчезает когда загружена avisynth_c.dll)<br>
* Добавлена поддержка DevIL для RGB32 к ImageSource.<br>
* Добавлена документация на русском языке. Спасибо Fizick и его команде (прим. перев.: то есть нам :-). Хорошо сделано. <br>
* Добавлен фильтр Merge(). Включает очень быстрый iSSE pavgb код для веса=0.5<br>
* Добавлен фильтр MergeARGB(), MergeRGB(). <br>
* Добавлены фильтры ShowRed(), ShowGren(), ShowBlue().<br>
* Добавлен планарная версия env->SubFrame() (спасибо TSP).<br>
* Добавлен SetPlanarLegacyAlignment() для выбора алгоритма выравнивания
 планарных форматов в памяти.<br>
* Добавлен контроль дополнения (padding) аудио в Trim().<br>
* Добавлен оператор muldiv(множимое, множитель, делитель).<br>
* Добавлен AssumeScaledFPS(multiplier, divisor, sync_audio), отображающий vi.MulDivFPS.<br>
* Добавлен метод VideoInfo.MulDivFPS(целый множитель, целый делитель), делающий
рациональное масштабирование с нормализацией и защитой от переполнения ствойства FPS.<br>
* Добавлены параметры offsets, gamma и analyze (подобно ColorYUV) в RGBAdjust.<br>
* Добавлена предварительная поддержка фильмов 23.976fps с прореженными (drop) кадрами к ShowSMPTE(), 
  кто-нибудь знает предлагаемый алгоритм SMPTE?<br>
* Добавлены Spline16Resize, Spline36Resize, GaussResize и LanczosResize(tap=xx)<br>
* Добавлены параметры в ShowFrameNumber: ShowFrameNumber(offset=10, x=360, y=576, 
 font="georgia", size=24, text_color=$ff0000)<br>
* Добавлено целый отступ в ShowSMPTE: ShowSMPTE(offset_f=10)<br>
* Добавлены параметры к ShowSMPTE: ShowSMPTE(offset="00:00:00:30", x=360, y=576, 
 font="georgia", size=24, text_color=$ff0000)<br>
* Добавлен опциональный параметр FPS=24 в Dissolve и Fade*() для обработки клипов содержащих только аидио.<br>
* Добавлены FadeIn0(), FadeOut0(), FadeIO0() варианты, которые не добавляют дополнительного кадра.<br>
* Добавлена поддержка дробной передискретизации в ResampleAudio().<br>
* Добавлены HasVideo() и HasAudio() скриптовые функции.<br>
* Добавлен параметр Level в Tone().<br>
* Добавлена поддержка SFloat в ResampleAudio().<br>
* Добавлен ColorBars(pixel_type="YUY2, YV12").<br>
* Добавлен env-&gt;ManageCache() интерфейс в AviSynth.h.<br>
* Добавлена 16 байт охранная зона защиты/детектирования VideoFrameBuffer в режиме отладки.<br>
* Добавлена защита от EBX ошибки компилятора / короткий обход в Cache::GetFrame().<br>
* Добавлена поддержка YV12 для ShowFiveVersions().<br>
* Добавлен пареметр "[sse]b" в Tweak, чтобы разрешить (медленый) SSE код 
 (возможно AMD могут выполнять его быстрее).<br>
* Добавлен Limiter(show=show_luma/show_luma_grey/show_chroma/show_chroma_grey),
что показывает выходящие за пределы яркость/цветность; *_grey делает
остальные пикселы серыми.<br>
* ConvertTo*(Matrix="Rec709, PC.709, PC.601") преобразование теперь поддерживается.<br>
* ConvertFPS()/ChangeFPS() копирует FPS из второго клипа.<br>
* GreyScale() RGB поддерживает Matrix="Rec709, Average".
</p>

<h3>Исправления ошибок</h3>

<p>
* Исправлено повреждение в конце таблицы IScriptEnvironment vtable.<br>	
* Исправлена утечка памяти в Overlay и AVSChar/AVSTime.<br>
* Исправлен End_of_Stream сброс при поиске в AudioStreamSource::<br>
* Исправлен SegmentedDirectShowSource() разбор аргументов.<br>
* Исправлены *Resize(), src_height и src_width если отрицательные, работают корректно.<br>
* Исправлена небольшая утечка памяти в env.VSprintf(), для [ul]case() и *str() также убраны 4k пределы, спасибо Tritical.<br>
* Исправлено Normalize scribling в памяти для float отсчетов.<br>
* Маскировано "Evaluate: System Exception - Access Violation" в :- FadeIO*(), RGBAdjust(), Tweak(), Lanczos*Resize() и GaussResize().<br>
* Исправлено округление в YUY2 turnleft/right цветности.<br>
* Исправлено AVSC_USE_STDCALL объявление в avisynth_c.h (было ACSC_USE_STDCALL).<br>
* Исправлена BlankClip(clip) теперь полностью дублирует видеоинфо донорского клипа, включая четность.<br>
* Исправлена AssumeTFF/BFF() чтобы корректно обновлять внутреннее состояние четности.<br>
* Исправлена Animate переключение аудио.<br>
* Исправлена округление выровненного UVpitch из width.<br>
* Исправлен 2х битовый перекрест в YUV горизонтальных изменениях размера, спасибо Squid.<br>
* Исправлена утечка ресурсов в DirectShowSource(), спасибо Tritical.<br>
* Исправлена набольшая утечка памяти в Subtitle() и string(), спасибо Tritical.<br>
* Де-инсталлятор теперь удаляет Docs\pictures папку, и плагины  DirectShowSource и TcpDeliver.<br>
* Исправлена обработка одного файла ImageReader. <br>
* Исправлено в ImageWriter info==false   больше не пишет статусный текст на кадре.<br>
* Поймана ошибка .WAV clsid handler GPF с именами более 47 символов.<br>
* Исправлено нарушение доступа YUV текста, скоректированы тесты выравнивания границ (регрессия).<br>
* Исправлена утечка памяти ExpFunctionCall::Call, спасибо Tritical.<br>
* Исправлена утечка PClip в MergeChannels(). Деструктор не вызывался.<br>
* Испрвален нарушение доступа в YUV тексте, скорректированы тесты выравнивания границы.<br>
* Исправлена инверсия выравнивания RGB текста. Регрессия в версии May 5th.<br>
* Исправлены утечки vfw ресурсов при открытии плохих AVI файлов.<br>
* Исправлено Циклическая (Loop) аудио обработка
* Исправлен GeneralConVolution аварии с обрезанным (cropped) входом.
* Восстановлена функциональность вынужденного (негативного) выравнивания планарной яркости.
* Исправлена утечка памяти стека, спасибо Tritical.<br>
* Исправлен Прямой AviSource ввод сырых YV12 и I420 источников.<br>
* Исправлены (скрестите пальцы:) "Evaluate: Recognized exception!" проблемы с жестким прерыванием Windows XPsp2.<br>
* Исправлен CACHE_RANGE внутренний тест границ, спасибо Tritical.<br>
* Исправлены Mask() вычисления серой шкалы, красный/синий обменены.<br>
* Исправлено FPS переполнение с Select...(), Interleave() и вариантами.<br>
* Исправлен режим вычитания в Overlay (цветность корректно вычитается).<br>
* Исправлен параметр align в Subtitle.<br>
* завершения код работает снова (нарушенный в предыдущих бетах).<br>
* исправлено затухание многоканального аудио.<br>
* Dissolve и Fade*() обрабатывают клипы из только аудио, предполагая 24fps для вычислений позиций.<br>
* Исправлена неверная цветность в DoubleWeave() для FrameBased YV12 материала.<br>
* Исправлено аварийное завершение от BlankClip() с шаблоном клипа из только аудио.<br>
* Исправлено AudioCache повреждение при изменении размера буфера.<br>
* Исправлены ResampleAudio() щелчки/стуки из-за ползущей ощибки.<br>
* Исправлено SSE/SSE2 ConvertAudioTo16/32Bit() насыщение положительной величины.<br>
* маскирована EBX ошибка компилятора в :-
audio.cpp
converaudio.cpp
convert_yv12.cpp
memcpy_amd.cpp
focus.cpp
layer.cpp
merge.cpp
resample.cpp
resize.cpp
text_overlay.cpp
conditional_functions.cpp
444convert.cpp
blend_asm.cpp<br>
* Исправлена ConvertToRGB() src-&gt;rowsize==8 авария.<br>
* Исправлена утечка памяти, уничтожены VideoFrameBuffers.<br>
* Исправлена env-&gt;NewVideoFrame() возвращающая короткий буфер кадров.<br>
* Исправлено vi.FrameFromAudioSamples() округление.<br>
* Исправлена ShowFiveVersions() неиспользванные угловые прямоугольники имели случайное содержимое. теперь оно заполнено<br>
* Исправлено YUV плоскости обменник сообщает корректное имя.<br>
* Исправлено MergeChroma сообщает о себе как MergeLuma.<br>
* Исправлена MergeChroma делает MakeWriteable() с не тем клипом.<br>
* Исправлена Normalize (была дискретизация только половины отсчетов на глоток; игнорировался масштабный фактор).<br>
* Исправлена GreyScale() EBX ошибка компилятора.<br>
* Исправлен перевернутый кадр в imagesources.<br>
* PlaneDifference в ConditionalFilter не сообщал точно 0, если плоскости были теми же.<br>
* Исправлена большая ошибка в сжатом YV12 TCPSource / TCPClient в TCPDeliver.<br>
* увеличен буфер строк, с 4K до 32K (проблема WarpSharp).<br>
* Исправлено переполнение Overlay(softlight/hardlight).<br>
* маскировано "Unknown exception" в :-
audio.cpp
avs_soundtouch.cpp
color.cpp
field.cpp
focus.cpp
fps.cpp
levels.cpp
resample.cpp
source.cpp<br>
* Исправлена WavSource() оставляющая .WAV файлы открытыми.<br>
* Исправлены помехи в многоканальны аудиопереходах в Dissolve() и Fade*()<br>
* Исправлен зеленый/голубой обмен каналов в C версии Layer()<br>
* восстановлен GreyScale() RGB C код.<br>
* Исправлен MMX YV12 Blur() дважды размазывал каждый 8ой пиксел.<br>
* Blur()/Sharpen() края все обработаны согласовано (края отражаются).<br>
* Исправлена YV12 Blur() ширина &lt; 16 фатальная ошибка.
</p>

<h3>Оптимизация</h3>

<p>
* Улучшение производительности в функцияя передачи в TCPDeliver.<br>
* Normalize() для 16 bit останавливается, когда найдена величина максимального целого отсчета .<br>
* Выполнена сортировка -unique|detab в color_rgb.avsi, удалены все дубликаты.<br>	
* YV12 MergeLuma(), MergeChroma() включают очень быстрый iSSE pavgb код для веса=0.5<br>
* Очищена коллекция мусора VideoFrame  по закрытии скрипта (Спасибо TSP).<br>
* Text overlay antialiaser tweaked, 8% faster <em>Work in progress, more to come</em>.<br>
* RGB32 FlipHorizontal() code tweaked.<br>
* ResampleAudio() MMX для int16 отсчетов, примерно 3.25 раз быстрее.<br>
* ResampleAudio() переделан C++ int16 код, примерно 35% быстрее.<br>
* ResampleAudio() переделано управление буфером, теперь линейно обращается child-&gt;GetAudio().<br>
* Управление Кэшем и Памятью переделаны!<br>
* ConvertAudioToFloat() быстый SSE и очень быстрый SSE2, оптимизация/пропуск ненужного копирования выхода.<br>
* ConvertAudioTo16,32Bit() очень быстрый SSE2.<br>
* SwapUV() YV12 swaps pointers in PVideoFrame, zero cost!, YUY2 fast iSSE code.<br>
* UtoY(), VtoY(), YtoUV() YUY2 faster C++ code.<br>
* MergeLuma(), MergeChroma() теперь MMX (не iSSE), имеет C++ версии, YV12 BlendPlane
теперь делает 8 пикселов на цикл, почти 2x быстрее!.<br>
* ColorBars() генерирует Tone в буффере конструктора, копируемый в GetAudio(),
избегая 48000 sin(double) в секунду.<br>
* EnsureVBRMP3Sync() использует 256K передаточный буфер при поиске (должен быть &gt; 5 раз быстрее теперь.)<br>
* Normalize() использует 256K передаточный буфер чтобы анализировать пики (должен быть &gt; 5 раз быстрее теперь).<br>
* Tweak: Добавлен C++ код (таблица соответствия), которая теперь быстрее чем старый iSSE код.<br>
* Audio.cpp переделан код в аудио фильтрах, которые делают 64 bit операции (большинство функций
от 2 до 5 раз быстрее).<br>
* ConvertToRGB32() MMX RGB24 -&gt; RGB32.<br>
* Blur()/Sharpen() если H или V = 0 пропускает этот проход.<br>
* GreyScale() MMX YUY2.<br>
* Blur()/Sharpen() теперь MMX (не iSSE), быстрее, меньше ограничений mod(2^n).
</p>

<h3>Изменения</h3>

<p>
* Остановлен излишний поиск LIBC, добавлено relsym построение - выпуск с Символами (with Symbols).<br>
* Входная точка avisynth_c плагинов теперь официально "avisynth_c_plugin_init@4"
  (не включайте @4 нигде, компилятор делает это за Вас), это в действительности не изменение
  из-за ошибки в avisynth_c.h, которая случайно вызывала это уже ранее.<br>
* Info() теперь  автовыбирает меньший шрифт чтобы подогнать инфо в меньшие кадры.<br>
* Info() теперь различает "подразумеваемую" четность полей и четность полей.<br>
* Animate теперь выбирает четность через цепочку фильтров.<br>
* Новое улучшенное кэширование!<br>
* Инсталлятор теперь заполняет "All Users" дерево  оболочки на вариантах NT.
  Admin/Uninstaller пункты добавляются только к текущему пользователю.<br>
* Анинсталлятор теперь удаляет DirectShowSource.dll и TCPDeliver.dll из папки плагинов.<br>
* ImageReader атоматически не падает к DevIL для DIB/BMP типа файлов.(DevIL аварийно завершается на палитровых BMP)<br>	
* ImageWriter теперь вызывает исключение для не RGB24 формата с обработкой DevIL.<br>
* Заменено VideoFrame::SubFrame() на env->SubFrame() (Готовность к многопоточности, Спасибо TSP).<br>
* Опция выравнивание планарных форматов (по умолчанию 16 байт) должна быть 
основана на плоскостях цветности, выравнивание яркости равно (все еще)
удвоенному цветности. Станет по умолчанию в следующей версии.<br>
* Поддержка для <a href="http://forum.doom9.org/showthread.php?s=&amp;threadid=90938"> vfr контента в
DSS</a>: DirectShowSource("F:\Guides\Hybrid\vfr_startrek.mkv", fps=119.88, convertfps=true)
превращает поток&nbsp;переменной частоты (vfr ) в&nbsp; поток постоянной частоты (cfr) путем дублирования кадров.<br>
* Histrogram: в режиме color_mode - YUY2: Неверные величины (ниже 16 и выше
235) будут окрашены коричневыми/желтыми. Делает эти величины более заметными.<br>
* Evaluate: Теперь прерывается и сообщает системное исключение вместо
бесполезного сообщения "Evaluate: Unrecognized exception!".<br>
* BlankClip() больше не хватает любой неявный последний (last) клип как шаблон.
Вы должны явно указать, что вы хотите использовать как шаблон, то есть BlankCLip(Last).
"BlankClip()" теперь возвращает пустой клип по умолчанию.<br>
* Avisynth.h FrameFromAudioSamples/AudioSamplesFromFrames() теперь
тестирует на деление на ноль и возвращает ноль, если это встретится,
вместо аварийного завершения.<br>
* SeparateFields() теперь генерирует исключение для источников типа IsFieldBased().<br>
* Weave() теперь генерирует исключение для источников типа IsFrameBased().<br>
* Политика кэширования CACHE_NOTHING сейчас больше не возвращает все&nbsp;буферы видеокадров. Пересматривается.<br>
* Avisynth.h SetFPS() теперь проверяет на ноль числитель или знаменатель, если найдено, то устанавливает num=0, den=1.<br>
* Автодетектирование аудио кэширования понижает метрику с 25 до 5 при пропусках вперед (при пропусках назад все еще 25).<br>
* ConvertAudio() включает предпочтительный тип в качестве допустимого типа.<br>
* ConvertAudio() передает SetCacheHints()&nbsp; по наследству к внуку (дочернему дочернего).<br>
* Normalize() показывает номер кадра пика.
</p>

<h2>
Changes from 2.54</h2>

<h3>
Additions</h3>

<p>
* Added a huge list of color presets, that can be used instead of colors (which
can be found in the plugins folder: colors_rgb.avsi).<br>
* Added: BlankClip now has color_yuv, that allows setting and YUV color for YUV clips.<br>
* Added GZIP huffman compression to TCPDeliver.<br>
* Added AssumeFPS(clip1, clip2 [, sync_audio=true/false]) (stickboy again)<br>
* Added audio=true/false to SelectRangeEvery. This will optionally also cut up audio according to the select. Default: true.<br>
* Added Turn180().<br>
* Added IsAudioFloat() and IsAudioInt() as clip properties.<br>
* Added FrameRateNumerator() and FrameRateDenominator() as clip properties.<br>
* Added AudioLenghtF() as clip property.<br>
* Added experimental "after_frame=true/false" to ScriptClip.<br>
* Added FOURCC parameter to AviSource by stickboy.<br>
* Added Lanczos4Resize().<br>
* Added french documentation.<br>
* Added float audio and multiple channels support to Dissolve.<br>
* Added WriteFile, WriteFileIf, WriteFileStart, WriteFileEnd. (WarpE)<br>
* Added dll-name prefix to plugins as per http://forum.doom9.org/showthread.php?s=&amp;threadid=72235.<br>
** Syntax is DLLNAME_function(), where DLLNAME is the filename of the dll containing the function.<br>
* Added automatic audio cache.<br>
* Added dotted lines at zero levels to view bias in
Histogram(mode="stereo").<br>
* Added CPU stuff to Info().<br>
* Added GeneralConvolution divisor, auto.<br>
* Added audio cache after EnsureVBRMp3Sync.<br>
* Added TimeStretch(). This filter can change speed of the sound
without changing the pitch, and change the pitch of a sound without
changing the length of a sound.</p>

<h3>Bugfixes</h3>

<p>
* Fixed "Unknown exception" in conditional filter expressions. (August 17th regression)<br>
* Fixed: DirectShowSource properly releasing filters on unload.<br>
* Fixed: Huge stability fix by IanB. This should remove a bunch of
"Evaluate: Unregnized exception", and crashes on reload in vdub.<br>
* Fixed: ImageReader/ImageSource flipped error messages and info overlay.<br>
* Fixed MergeLuma not always updating properly.<br>
* TCPDeliver should compile now.<br>
* AssumeFPS: Added sanity check to ensure that denominator isn't zero.<br>
* Fixed Loop() when called with no video (stickboy)<br>
* Fixed error not being thrown in Conditionalfilter on an invalid operator.<br>
* Proposed fix for zero coefficient.<br>
* Fixed crash on certain resolutions in Resize.<br>
* Made TCPDeliver compile without complaining about missing files.<br>
* Fixed linecount on multiline strings (Bug ID 989276]<br>
* Fix VideoFrameBuffer cache corruption<br>
* Fixed VideoFrameBuffer cache corruption during "Plan C" memory recovery.<br>
* The problem with ApplyRange/Animate's inability to use functions that take no additional arguments should be fixed.<br>
* Removed overflow bug in ssrc upsampler.<br>
* Fixed Audio cache crash if no audio.<br>
* Cleaned up ApplyYV12 in textoverlay.<br>
* Fixed float audio in Dissolve.<br>
* Fixed audiobits clip properties now returning bits and not bytes.<br>
* Fixed ConditionalReader inaccuracies on integer interpolation.<br>
* Fixed Mask() problem with footage with different pitches.<br>
* Subtract now clamps errors instead of overflowing.<br>
* Fixed old plugin names actually working.<br>
* Added specific (and simpler) stereo mode to TimeStretch - no more drifting.<br>
* Made ISSE YUY2 HorizontalReduceBy2() more "safe".<br>
* Fixed missing plane in TemporalSoften.<br>
* Corrected some quirks in TemporalSoften scenechange on artificial sources.<br>
* Fixed IsParityKnown() in avisynth.h - thanks to stickboy.<br>
* Random in scalemode is not returning limit value - thanks you stickboy!<br>
* Fixed: Trim audio could crash, if sample types were different.<br>
* Fixed crash-on-exit in SSRC, if rateconversion was skipped.<br>
* Fixed one frame missing in TemporalSoften.<br>
* Fixed chroma moving half a pel in Overlay() with YV12-input mode.<br>
* Fixed Trim audio crash if sample types were different.<br>
* Fixed crash-on-exit in SSRC, if rateconversion was skipped.<br>
* Fixed minor glitches in audio cache (out of range requests)<br>
* Fixed ConvertToYV12(interlaced) incorrect sampling for top field chroma.<br>
* Fixed Memory leak in Vertical Resizer.<br>
* Fixed PointResize() exact odd sub/multiple width/height returning trash frames.<br>
* Fixed PointResize() image not centred when expanding.<br>
* Fixed TurnLeft()/TurnRight() crash with multiple colour spaces in same script.<br>
* Fixed TurnLeft() in yuy2 colour space off by 1 pixel down.</p>

<h3>Optimizations</h3>

<p>* SSRC now has aligned data (slightly faster and SSE ready).<br>
* Added MMX optimizations to Overlay mode lighten+darken with opacity=1.0, with
no mask.<br>
* Added SSE float to int audioconversion.<br>
* Added 3DNOW! optimizations to sample-type conversions int to float, and float to int. Much faster.<br>
* Added faster MMX to Invert by ARDA.<br>
* Added RGB24, YUY2 and YV12 MMX Invert() function.<br>
* Added MMX/ISSE chroma convertion to Overlay with YV12 input.<br>
* Added MMX function for Overlay(mode="blend"), when a mask is used and opacity = 1.0.<br>
* Removed unneeded DevIL components</p>

<h3>Changes</h3>

<p>* TCPDeliver: Simplification and cleanup. Planar pitches handled more consistently.<br>
* DirectShowSource now requests interlaced material to avoid internal (crappy) WMV9 deinterlacer. (Thanks to Russel Lang)<br>
* ImageReader/ImageSource now accepts relative paths in all configurations.<br>
* Adjust audio length in SelectRangeEvery to match new video length.<br>
* Updated installer.<br>
* ImageReader: tweaked default parameters.<br>
* ImageReader: made ColorBars parameters optional (like docs claim!)<br>
* ImageReader: No more "Image not in range". First frame is ALWAYS
frame 0.<br>
* Updated SoftWire codegenerator to latest version.<br>
* ImageReader: Static image support, Floating-point FPS, aliased to ImageSource, frames automatically flipped when necessary.<br>
* ImageWriter: Optional "info" parameter to show filename.<br>
* ImageReader / ImageWriter: All errors returned as text clips.<br>
* AviSynth will longer resize to non-mod4 widths in YV12 mode!<br>
* Dissolve can now handle audio input with different sample types.<br>
* Dissolve now checks if samplerates are the same.<br>
* Trim/Dissolve: Better error reporting.<br>
* Updated DevIL libs; removed unneeded !DevIL components; improved error reporting in
ImageReader / ImageWriter.<br>
* Updated Overlay(mode="multiply") to work more logical. Old functionality is no more!<br>
* DirectShowSource() is now a plugin, and is automatically placed in the plugin directory by the installer.<br>
* Disabled avisynth_c plugin autoloading (no longer a compatible way to do so).<br>
* FrameRate() now calcs as (double)numerator/(double)denominator. (still returns a float)</p>

<h2>Changes from 2.53</h2>

<h3>
Additions</h3>

* Added ConditionalReader(). This enables users to load per frame settings into
variables accessible to conditional variables.<br>

* Added "Hardlight", "SoftLight", "Difference" and
"Exclusion" as Overlay blend modes.<br>

* Added mode="chroma", "luma", "lighten",
"darken" to Overlay.<br>

* Overlay() now accepts RGB24/32 output.<br>

* Added "pc_range=true/false" parameter to overlay(). This will make
all RGB&lt;-&gt;YUV conversions inside Overlay assume [0-&gt;255] YUV range, and
not CCIR 601 [16-&gt;235] range. Default is false.<br>

* Added RGB input conversion to overlay.<br>

* ShowAlpha now returns RGB, YUY2, or YV12 via the pixel_type argument. The
latter two can be used to layer an RGB clip with alpha transparency data onto a
YUV clip using the 3-argument form of Overlay().<br>

* Added Overlay() for doing advanced video overlays/layers.<br>

* Added SuperEQ(). SuperEQ is a very precise 16 band equalizer.<br>

* Added IsYUV(clip) to script (it was only present in the documentation). (Party
Time)<br>

* Added internal audiocache by [WarpEnterprises]. Added automatically by the
filters that need it.<br>

* Added fast=true/false mode to SSRC. This will use a faster mode for
resampling. Default is false.<br>

* Added Histogram(mode="stereo") shows a clasic stereo graph (I guess)
from the audio in the clip. Some may know these from recording studios. Quite
nice actually.<br>

* Added Histogram(mode="stereooverlay"). Draws the stereograph on top
of the original image. YV12 only.<br>

* Added ChangeFPS(linear=true/false). This will make AviSynth request frames in
a linear fashion, when skipping frames. Default:true.<br>

* Added SSRC(int samplerate) SSRC resampling. Note that it only downsamples.
Audio is always converted to float.<br>

* Added Tone(float length, float frequency, int samplerate, int channels, string
type). This will generate sound.
<ul>

<li>Length is in seconds. Type can be "Silence", "Sine"
(default), "Noise", "Square", "Triangle" or
"Sawtooth".
</li><li>Defaults are Tone(10.0, 440, 48000, 2, "sine").</li>
</ul>

<h3>
Bugfixes</h3>

<p>* Fixed out-of-bounds read in Normalize.<br>
* Fixed compiler warnings in avisynth_c<br>
* Fixed very small sample corruption in SSRC.<br>
* Fixed audio corruption problem if audio with start &lt; 0 was requested.
(introduced in Dec. 30th binary).<br>
* Fixed very small sample corruption in SSRC.<br>
* Better seeking precision in audio in DirectShowSource.<br>
* Fixed crashes and Audio corruption in ConvertToMono().<br>
* Fixed UnalignedSplice if only audio was present.<br>
* Fixed Trim crash, if only audio was present (throws an error).<br>
* Fixed slowdown on multiple Directshow Sources.<br>
* Fixed green bars in small video with mode="levels" and
mode="color". For Histogram</p>

<h3>
Optimizations</h3>

* Internal audio cache now has better efficiency.<br>

* Optimization: MMX in Dissolve.
<h3>
Changes</h3>

* Added Kevin Atkinsons avisynth_c 0.20 (stdcall) API.<br>

* Updated installer. Removed the old one.<br>

* SSRC: "fast" is now true per default. This setting is recommended,
unless you are doing a big samplerate adjustment (not just 48000 -&gt; 44100).<br>

* Updated installer. (Thanks to V_ICE for inspiration).<br>

* Re-Added German documentation.<br>

* EMMS is now executed between all filters to avoid potential FPU-states to be
carried from one filter to the next.<br>

* Reimplemented SSRC. It is now capable of running multiple instances, it has
been better tested (occational strange sample should be eliminated). This
version support both upsampling and downsampling with very high precision.<br>

* If any filter should request audio that is out of bounds, if will no longer be
passed to the filter above, but the invalid parts will be filled with silence.<br>

* Documentation restructured and much has been updated.<br>

* Added C-versions of conditional planedifference filters, for non-ISSE machines
(not well tested though).
<h2>
Changes from 2.52</h2>

<h3>
Additions</h3>

* Added audio support to DirectShowSource.<br>

* Added seeking support to DirectShowSource.<br>

* Added .GRF file loading to load filter graphs from GraphEdit. Be sure there is
an open pin, to which AviSynth is able to connect, otherwise expect "the
filter graph won't talk to me".<br>

* Added optional coring=true/false to Levels and Tweak. both true by default,
as previously.
<br>

* German documentation.
<br>

* Added DV type 1 video input, using AviSource(). Video only!
<br>

* DirectShowSource() is now capable of properly opening audio with
more than 2 channels. Tested with AC3Filter.
<br>

* DirectShowSource() now accepts and properly decodes float-precision
samples. Tested with AC3Filter.
<br>

* Added checks for samplerate and framerate in Splice.
<br>

* SwapUV(), UToY(), VToY() and YToUV() now also works in YUY2 mode.
<br>

* Added C-style plugin support (still in testing) to allow plugin writers
to use other compilers than MSVC. See this thread for further info.
<br>

* Added Invert(), ShowAlpha().
<br>

* Added default parameters to ColorBars.
<br>

* Extensive updates of German documentation.
<br>

* DirectShowSource capable of opening audio only. WAV/AC3/MP3 can be
opened using DirectshowSource.
<br>

* Added experimental "align=true/false" to crop - this will realign
frames if they aren't already. Alignement is 16 for SSE2 machines, 8 for
others.
<br>

* Added "Overall PSNR for Compare()" - thanks to temporance.
<br>

* ResampleAudio now accepts any number of channels.
<br>

* Added "after_frame=true/false" option to FrameEvaluate. This determines
if the script should be evaluated before (default operation) or after the
frame has been fetched from the filters above.
<h3>
Bugfixes</h3>

* Fixed memory leak in Plugin name export.<br>

* Incorporated file lock fix in AviSource by WarpEnterprises.
<br>

* Minor fixes to field information in Info().
<br>

* Fixed occational hang in DirectShowSource (this might lead to leaks
on unload/load!)
<br>

* Fixed crashbug in Compare, when logfile was specified.
<br>

* Fixed distortion on Crop(align=true).
<br>

* Fixed overflow in ResampleAudio (Thanks to IanB!). [Bug 770853].
<br>

* Fixed Mergechannel broken with more than 2 channels.
<br>

* Made adjustments for longer sample support in ResampleAudio.
<br>

* Fixed crash in ResampleAudio, if no audio was present.
<br>

* Fixed crash in MonoToStereo().
<br>

* Fixed: Normalize(show = true) displaying invalid value, and added
a dB amplification indication.
<br>

* Fixed minor issues in audio routines with very long samples.
<br>

* Fixed wrong colors in ShowSMPTE YV12 mode.
<br>

* Corrected several performance problems in Limiter, YUY2 mode (thanks
again ARDA!).
<br>

* Fixed YUY2 FlipHorizontal giving garbage/crashing.
<br>

* General Convolution now properly processes 5x5 matrices. Thanks IanB
for the patch.
<br>

* Fixed minor stuff in TemporalSoften.
<br>

* (Hopefully) fixed precision in PointResize.
<h3>
Optimizations</h3>

* Added heavily optimized memory copy mode, that will be used in some blits.
<br>

* Conditional unroll of fetch/unpack loop in dynamic compiled resizer.
Now only unrolls if 1) Athlon 2) Source width &lt; 512.
<h3>
Changes</h3>

* Further clarification in Info() regarding field information.
<br>

* Minor changes to Limiter code (block prefetch).
<br>

* ApplyRange now accepts startframe = stopframe. This will only process
the specified frame.
<br>

* ApplyRange now supports audio and processes it to the end of stopframe.
<br>

* Updated avisynth_c API to v0.14.
<br>

* Reenabled function name export for VDubMod syntax highlighting -
I'm not sure if it had much effect on stability.
<br>

* Corrected ParseMultiplication so it parses from left to right.
<br>

* The default luma range in Limiter is corrected to 16-235 (it was
16-236).
<br>

* Temporarily disabled plugin function export for VDubMod. I'm suspecting
this of the "crash+disappear" of VdubMod.
<br>

* Removed HSIAdjust().
<br>

* Removed ffvfw from installation.
<br>

* ShowSMPTE does no longer require fps parameter - only if the current
fps cannot be used.
<br>

&nbsp;
<h2>
Changes from 2.51 beta</h2>

<h3>
Additions</h3>

* Added light version of "ffvfw" to the installer. No "Cannot locate decompressor
(YV12)" messages.
<br>

* Added ConditionalFilter, that returns one of two sources based on
an expression.
<br>

* Added conditional filters:
<br>

** AverageLuma(), AverageChromaU(), AverageChromaV() functions. ''Returns
a float from 0 to 255 based on the average pixel values of a plane.''
<br>

** YDifferenceFromPrevious(), UDifferenceFromPrevious(), VDifferenceFromPrevious()
and YDifferenceToNext(), UDifferenceToNext(), VDifferenceToNext()'''.
<br>

** LumaDifference(clip,clip), ChromaUDifference(clip,clip), ChromaUDifference(clip,clip).
''They return a float value between 0 and 255 of the absolute difference.''
<br>

** RGBDifference(clip1,clip2), RGBDifferenceFromPrevious(clip), RGBDifferenceToNext(clip).
<br>

** YPlaneMax(clip, float threshold), YPlaneMin(clip, float threshold),
YPlaneMedian(clip), YPlaneMinMaxDifference(clip, float threshold). ''Threshold
is a percentage, on how many percent of the pixels are allowed above or
below minimum. The threshold is optional and defaults to 0. There are similar
funtions for U and V.''
<br>

* Added ScriptClip(clip, string function, [show=true/false]). This
will return the clip returned by the function evaluated on every frame.
<br>

* Added FrameEvaluate(clip, script) - Similar to ScriptClip, except
the output of the filter is ignored. This can be used for assigning variables,
etc.
<br>

* YV12 &lt;-&gt; RGB conversions now use an intermediate YUY2 conversion
to achieve better chroma upsamplig. As a result of this ConvertToRGB now
also take an "interlaced=true/false" parameter.
<br>

* Added ImageWriter.
<br>

* Added "show" parameter to ConditionalFilter. This will overlay the
results on the screen.
<br>

* Added dynamic compiled limiter.
<br>

* Implemented Belgabors patch for exporting plugin functions.
<br>

* Build date is now (semi)automatically updated in version.
<br>

* Added script functions: IsYV12(clip), IsPlanar(clip), IsInterleaved(clip)
<br>

* Loads of documentation updates.
<h3>
Bugfixes</h3>

* Fixed cache hints a bit up.
<br>

* Hopefully fixed jumping frame bugs in temporalsoften.
<br>

* Fixed crashed in temporalsoften on some setups.
<br>

* Fixed I420 / YV12 mismatch in Interleave.
<br>

* Fixed problems with implicit last giving problem with multiple filter
instances of ScriptClip/ConditionalFilter.
<br>

* Many ImageReader/Writer fixes and updates.
<br>

* Fixed bug when height &gt; 512 in RGB -&gt; YV12 conversion.
<br>

* AviSynth now mimics VDubs way of handling dropped frames to avoid
problems with buggy codecs.
<br>

* Trim now returns (x-1) frames as supposed.
<br>

* Fixed stereo setting in BlankClip
<h3>
Optimizations</h3>

* Added MMX RGB24-&gt;YUY2 conversion.
<br>

* Minor changes to existing RGB32 -&gt; YUY2 MMX.
<br>

* Minor speedup to ISSE limiter.
<br>

* Added SoftWire dynamic compiled horizontal resizer. Approximately
10-15% faster - maybe even more on P4.
<h3>
Changes</h3>

* AviSynth will now attempt to deallocate framebuffers, if memory usage
is 25% above default values or SetMemoryMax().
<br>

* Improved rounding precision in ISSE YV12 &lt;-&gt; YUY2 conversions.
<br>

* Improved chroma upsampling quality in planar YV12 -&gt; YUY2.
<br>

* Better chroma alignment on interlaced YUY2 -&gt;YV12.
<br>

* Slightly better precision in audio conversion.
<br>

* ApplyRange now checks if size and colorspace are the same.
<br>

* Fixed float point exceptions being thrown in some applications, based
on the CPU register settings. (Especially Delphi-based apps).
<h2>
Changes from 2.50 beta</h2>

<h3>
Additions</h3>

* Added start/end parameters to ImageWriter.
<br>

* Added Chr, Time and Spline script functions.
<br>

* Added ISSE and MMX YUY2-&gt;YV12 conversions. Faster than XviD - and
both interlaced and noninterlaced modes supported. Use ConvertToYV12(interlaced=true).
<br>

* Added rewritten YV12-&gt;YUY2 (progressive) conversion to avoid using
buggy XviD conversion. It also has better quality as it properly interpolates
chromas as opposed to simply copying it. Speed should be the same. Use
ConvertToYUY2(interlaced=true).
<br>

* Added TurnLeft /TurnRight.
<br>

* YToUV() now takes an optional third parameter, that contains luma
for the final clip.
<br>

* AudioLength() now returns the size in samples (do however beware
of overflows on very long clips)
<br>

* Added ApplyRange.
<h3>
Bugfixes</h3>

* Fixed Splice problems with YV12 from different sources. Audio is now
automatically converted to the same format.
<br>

* Fixed bug in YV12 stackvertical, causing corrupt images.
<br>

* Fixed memory exception problem in Blur.
<br>

* Fixed non-matching image type in Stack.
<br>

* Fixed rounding in Temporalsoften mode 2.
<br>

* Fixed crashbug in YUY2 mergechroma.
<br>

* Fix bug in C version of YUY2-&gt;RGB24.
<br>

* Fixed bug with uninitialized data in AviSource.
<br>

* Fixed wrong pitch being used in Temporalsoften scenechange - could
in rare cases lead to unexpected results.
<br>

* Fixed rounding in some cases in Temporalsoften.
<br>

* Doesn't add audio to track, if there is no present in AssumeSampleRate().
<br>

* Fixed isBFF() and isTFF().
<h3>
Optimizations</h3>

* Put in Steady's new BitBlt code, and enabled it for ISSE capable processors.
<br>

* Much "conservative" code removed. A general speedup should be expected.
<br>

* Made SwapUV faster.
<h3>
Changes</h3>

* Removed all fieldbased/mod 4 checks.
<br>

* Restored how fieldbased/framebased works.
<br>

* Removed startup Box from installer.
<br>

* Greyscale inserts value 128, instead of 127. Some users have reported
a greenish tint.
<br>

* Updated AssumeTFF and BFF to also write the information to VideoInfo.
<br>

* Updated icons.
<br>

* BMP support (output only) in ImageWriter.
<br>

&nbsp;
<h2>
Major changes from the 2.0.x line:</h2>

<ul>

<li>
Native planar YV12 support.</li>
<li>
Multiple audiochannels. Unlimited number of channels is now supported.</li>
<li>
Float samples support. AviSynth is now capable of processing samples as
floats.</li>
<li>
Automatic sample conversion. If some filters doesn't support a specific
sample type, they are converted to the format preserving most quality (most
often floats).</li>
<li>
Optimizations. Many basic features has been optimized, and now performs
much better than previous versions.</li>
<li>
Temporalsoften has a significant speed improvement, scenechange detection
and a new improved blend mode.</li>
<li>
Limiter can limit the YUV ranges, to avoid invalid color values and improve
compression.</li>
<li>
ColorYUV makes it possible to do very exact color corrections. ColorYUV
has built-in auto-whitebalance and auto-gain features.</li>
<li>
Select separate planes using UToY, VToY and merge them together again,
using YToUV.</li>
<li>
Fliphorizontal. implemented.</li>
<li>
SelectRangeEvery is now part of the core functions.</li>
<li>
Blur, Sharpen, Resize optimized.</li>
<li>
Fast XviD colorspace conversions.</li>
<li>
See clip info using the info() command.</li>
</ul>

<h4>
Changes from 2.07</h4>

- Fixed crashbug in resize.
<br>

- AviSynth now only includes "*.avsi" from the plugin directory
<br>

- Changed maximum number of arguments from 40 to 1024.
<br>

- Resampleaudio() caused crashes, if no audio was present.
<br>

- Fixed: Exist() didn't work.
<h4>
Changes from 2.06</h4>

- Script extensions:
<br>

<tt>- - LeftStr(string, int size), RightStr(string, int size), MidStr(string,
int first, int length), FindStr(string, string), RevStr(string), StrLen(string)</tt>
<br>

<tt>- - Sign(int), sign(float), Nop, Rand([int limit]), Select(index,
item0 [,item1...]), Exist(string filename)</tt>
<br>

<tt>- - VersionNumber(), VersionString()</tt>
<br>

<tt>- - IsRGB24(clip), IsRGB32(clip), Int(float), Frac(float), Float(int),
Value(string), HexValue(string).</tt>
<br>

- Strings can be compared using "&lt;" ,"&gt;","&lt;=","&gt;=" operators
(case insensitive).
<br>

- Color option for Fades , Letterbox, and Addborders.
<br>

- Subtitle alignment and spacing options, added y=-1 centering support
(x=-1 undocumented support remains) and defaults for x,y and align vary
depending on each other's settings.
<br>

- Optimization for recent BlankClip() RGB24 bug fix.
<br>

- Fixed ceil, floor and round functions.
<br>

- Fixed BlankClip RGB24 with odd widths.
<br>

- Fixed DB scale off by 2x in volume.
<br>

- Added FadeIn / FadeIn2 to fade in
video and audio.
<br>

- Added AssumeSampleRate to
change the samplerate without resampling (yes, this will lead to desync!).
<br>

- Fixed one frame wrong offset in trim, when second argument is negative.
<br>

- Added abs(integer) and abs(float).
<br>

- Fixed '%' (mod) in scripts, so it returns absolute values.
<br>

- Added a boolean to DirectShowSource, so seeking can be manually disabled,
if it works very slowly.
<br>

- Added PointResize() function.
Resamples as "Nearest Neighbour" in Virtual Dub.
<br>

- Added SetWorkingDir() function.
<br>

- Fixed Normalize crashes.
<br>

- Added German documentation.
<br>

&nbsp;
<h4>
Changes from 2.05</h4>

- Fixed potential crashbug in Resize - real fix instead of previous hack.
<br>

- Default alignment is now 16 bytes, which should be faster on P4.
<br>

- Fixed bug in RGB32 greyscale,
when with not divideable with 2.
<br>

- Added example scripts. - Added installer/uninstaller. No more need
to fiddle with .reg files and regedit.
<br>

- Fixed Trim, so negative values works
as documented.
<br>

- Fixes to plugin autoloading: - freezed when invalid dll encountered,
was locking files unnecessarily, now also loads avisynth plugins with VDF
extension.
<br>

- Made forward seeking fallback code in DirectShowSource
files - it will not freeze anymore, just be very slow, since it has to
decode all inbetween frames!
<br>

- Added LanczosResize which
uses the Lanczos3 algorithm - it provides better quality than BicubicResize
in many cases.
<br>

- Better rounding precision in BicubicResize/BilinearResize.
<br>

- Optimizations to YUY2 BicubicResize/BilinearResize.
<br>

- New ResetMask() filter: sets the
mask to "all-opaque" (RGB32 only).
<br>

- ChangeFPS() now changes the framecount
(thanks to Xesdeeni).
<br>

- AVI files, that contains an invalid first frame are now rejected
- there is no way of handling this situation gracefully. Segmented AVI's
automatically skip these segments, and will NOT return an error.
<br>

- Better parameter checks on Crop()
and LetterBox().
<br>

- Fixed wrap at right side of picture in RGB BicubicResize()/BilinearResize().
<br>

- Fixed another Chroma wrap issue in BicubicResize()
<br>

- Added optional pixel_type parameter to AVISource
and siblings to force a decompression format (YUY2, RGB32 or RGB24).
<br>

- Added optional left and right parameters to Letterbox
- parameters are placed after the existing to preserve compatibility.
<br>

- Added EnsureVBRMP3Sync(clip),
to avoid desync of VBR-compressed mp3-soundtrack. This will slow seeking
down considerably, but is very useful when using trim() for instance. Always use before trim().
<br>

- BugFix: Fixed crashbug in Resize functions on some machines.
<br>

- AviSource always returns last
valid frame on decompression errors.
<br>

- Added check for invalid frame 0 (mostly seen in SegmentedAviSource()).
<br>

&nbsp;
<h4>
Changes from 2.04</h4>

- Additions to the Compare filter (Statistics over several frames)
<br>

- Reorder function loading to hopefully give plugins precedence over
filters
<br>

- Added LowPassAudio(frequency) and HighPassAudio(frequency)
<br>

- Many updates and additions to documentation.
<br>

- New function: String(value) - converts any AVSValue to string.
<br>

- Bumped number of plugins to 50 from 30
<br>

- Avisynth now allocates minimum 16MB cache, or otherwise 1/4th of
free physical memory.
<br>

- Plugin autoloading (Create
string regkey: HKEY_LOCAL_MACHINE\Software\Avisynth\PluginDir) (still in
alpha)
<br>

- Crash-on-exit bugfix in SegmentedAviSource.
<br>

- Audio-related bugfix in AVISource.
<br>

- Bugfix in FilteredResizeH (see bug [ 588402 ]) minor optimizations
too.
<br>

- Bugfix: TemporalSoften
<br>

- Bugfix: dropped frame (introduced in 2.04).
<br>

- Fixed bug in Pow(x,y)
<h4>
Changes from 2.03</h4>

- Compressed audio support in AVISource, AVIFileSource and OpenDMLSource.
Boolean parameter after clip turns it off.
<br>

- Compile fix in temporalsoften.
<h4>
Changes from 2.02</h4>

- Fixed EMMS bug in ColorKeyMask
<br>

- Fixed YUY2 detection issues in Layer
<br>

- Added friendly error message for Layer ops
<br>

- GetLeftChannel - Returns left channel.
<br>

- GetRightChannel - Returns right channel.
<br>

- MonoToStereo(clip1_left,clip2_right) - muxes two clips together as
one stereo clip.
<br>

- MixAudio(clip_1,clip_2,float clip1_volume, float clip2_volume) Mixes
two audio sources together.
<br>

- Added ConvertBackToYUY2() That only uses chroma from the left pixel
to avoid shifting chroma color by multiple YUY2-&gt;RGB&gt;YUY2 conversions.
ConvertToYUY2 remains unchanged.
<br>

- Added Documentation for new parameters
<br>

- Added sound to Loop() function.
<br>

- New function ConvertToMono(clip) - convert stereo to mono.
<br>

- New function KillAudio(clip) removes audio from clip. Use this if
you get crashes with compressed AVI sound.
<br>

- new filter: ColorKeyMask + bugfix in Layer
<br>

- New function Normalize(clip, float max_left, float max_right). Normalizes
audio. Both floats are optional. If maximum values (0 to 1) are used, the
stream will peak at this level, otherwise the peak will at full volume.
<br>

- TemporalSoften (MMX &amp; C ) (previously released as plugin TemporalSoften2)
<br>

- MMX optimized HorizontalReduceBy2() in YUY2 mode.
<br>

- Corrected one pixel offset bug in VerticalReduceby2().
<br>

- MMX is now pixelperfect in compare with C implementations.
<br>

- Changed order in ReduceBy2() since VerticalReduceBy2 is faster.
<br>

- VerticalReduceBy2() has been MMX optimized. More than twice as fast.
Filter checks if image is too small to be reduced.
<br>

- Colorbars() now also generates a test tone. Test tone is a 440Hz
sine at 48KHz, 16 bit, stereo. The tone pulses in the RIGHT speaker, being
turned on and off once every second.
<br>

- ResampleAudio() now skips conversion, if samplerate is already at
the given rate.
<br>

- No athlon codes in merge.
<br>

- Converttoyuy2 MMX optimized.
<br>

- Fixes in greyscale() in RGB mode.
<br>

- Optimized layer() and decomb-filters.
<br>

- Compare(clip filtered, clip original, string channels="", string
logfile="", bool show_graph=true)
<br>

- AssumeTFF() and AssumeBFF() to force parity
<br>

- Documentation restructured and updated.
<p>Пожалуйста сообщайте об ошибках в <a href="http://sourceforge.net/projects/avisynth2">Sourceforge Avisynth 2 page</a>
 - или - <a href="http://forum.doom9.org/forumdisplay.php?s=&amp;forumid=33">форум по AviSynth на Doom9</a> </p>

<kbd>$English Date: 2008/12/22 01:26:05 $ <br>
Русский перевод 19.05.2005-22.12.2008 Fizick http://avisynth.org.ru</kbd>
</body></html>