<html>
<head>
<title>Decomb Plugin for Avisynth 2.5</title>
<link rel="stylesheet" type="text/css" href="../../avisynth.css">
<!--
Automatically generated, don't change:
$Id: decombfaq.htm,v 1.1 2010/02/27 14:50:14 wilbertd Exp $
-->
</head>
<body>
<h1 align=center>Decomb Plugin pro Avisynth<br>
(Verze 5.2.3)<br>
Èasto kladené otázky (FAQ)</h1>

<h2 align=center>od Donald A. Graft</h2>
<ul>
<li><a href="#jerky">Mé video sekvence se zadrhávají, dokonce i když nedecimuji klip.</a></li>
<li><a href="#dthresh">Parametr <i>dthreshold</i> nefunguje.</a></li>
<li><a href="#order">Proè byl Decomb 5.0.0 proveden jako závislý na poøadí polí?</a></li>
<li><a href="#small">Proè dostávám nìkterá špatná uspoøádání polí?</a></li>
<li><a href="#changes">Proè dostávám roztøepené snímky po nìjaké zmìnì scény?</a></li>
<li><a href="#still">Dokonce i po odstraòování prokládání ve snímku v nìm stále vidím roztøepení.</a></li>
<li><a href="#ants">Dostávám "mravenèí pochod" v nìkterých tvrdých horizontálních hranách pøi použití FieldDeinterlace.</a>
<li><a href="#confused">Nevyznám se v rozdílu mezi <i>threshold</i> a <i>dthreshold</i>
ve FieldDeinterlace.</a>
<li><a href="#ghosting">Dostávám "duchy" ve snímcích, ve kterých jsem odstraòoval prokládání.</a>
<li><a href="#blending">Technicky, jaký je rozdíl mezi smícháním (blending) a interpolací?</a>
<li><a href="#overriding">Zdá se, že rùzné èásti mého klipu vyžadují rùzné hodnoty <i>vthresh</i>.
<li><a href="#guidance">Jak ovlivní <i>gthresh</i> uspoøádání polí, když je zapnuto øízení šablony (pattern guidance)?</a>
</ul>

<h3><a name="jerky"></a>Mé video sekvence se zadrhávají, dokonce i když nedecimuji klip.</h3>
<p>Použijte radìji post=4 (a post=5) než post=2 (a post=3). Také, nenastavujte zbyteènì nízko
parametr <i>vthresh</i>.</p>

<h3><a name="dthresh"></a>Parametr <i>dthreshold</i> nefunguje.</h3>
<p>Parametr <i>dthreshold</i> byl v Telecide pøejmenován na <i>dthresh</i> pro Decomb 5.0.0.
Ve FieldDeinterlace je stále nazýván <i>dthreshold</i>.</p>

<h3><a name="order"></a>Proè byl Decomb 5.0.0 proveden jako závislý na poøadí polí?</h3>
<p>Je rychlejší a ménì náchylné na chyby provést 2 uspoøádání než 3. Ale Decomb 5.0.0 bude
stále zkoušet tøetí uspoøádání pokud je snímek stále roztøepený po 2-zpùsobech uspoøádání. Takže 
ve srovnání s Decomb 4 nejsou vysílány žádné zvláštní roztøepené snímky. 
Tutorial nabízí opravdu jednoduchý zpùsob pro urèení poøadí polí klipu.</p>

<h3><a name="small"></a>Proè dostávám nìkterá špatná uspoøádání polí?</h3>
<p>Nejdøíve ovìøte, že je správnì nastaveno vaše poøadí polí použitím procedury uvedené v tutorialu!</p>
<p>Proces uspoøádání polí není dokonalý. Nicménì, mùže být v nìkterých situacích vylepšen.
Napøíklad, pokud máte zašumìlý klip (takový jaký mùžete obdržet z analogového zachytávání), mùžete èasto
zlepšit uspoøádání pomocí parametru <i>nt</i> pro zvìtšení tolerance šumu, oproti výchozí 10. Nejlepší 
hodnota bude záviset na tom jak zašumìlý je váš klip. Ale buïte opatrní pøi zvyšování tolerance šumu, 
protože to mùže zhoršit uspoøádání pro èisté klipy.</p>
<p>Také mùžete zlepšit uspoøádání v nìkterých pøípadech zapnutím øízení šablony (pattern guidance). 
V nìkterých neobvyklých pøípadech mùžete zlepšit uspoøádání vypnutím øízení šablony! Zkuste to obìma zpùsoby
a uvidíte, která vám dá lepší výsledky.</p>

<h3><a name="changes"></a>Proè dostávám roztøepené snímky po nìjaké zmìnì scény?</h3>
<p>Tyto zmìny scény vyžadují tøetí (zpìtné) uspoøádání. Decomb vyzkouší tøetí uspoøádání jen když je <i>post</i>
nastaven na jinou hodnotu než 0. Všimnìte si, že mùžete zapnout zkoušku tøetího uspoøádání
bez zapínání postprocessingu: mùžete nastavit post=1. Také mùžete zapnout tøícestné uspoøádání na všechny
snímky (ne jen ty, které jsou roztøepené po dvoucestném uspoøádání) použitím parametru <i>triple</i>.
Nicménì nastavení triple=true, mùže zpùsobit zadrhávání.</p>

<h3><a name="still"></a>Dokonce i po odstraòování prokládání ve snímku v nìm stále vidím roztøepení.</h3>
<p>Nejdøíve použijte post=3 nebo post=5 pro ovìøení, že ve snímku skuteènì bylo odstraòováno prokládání. Pokud ne,
tak potøebujete snížit váš parametr <i>vthresh</i> dokud tomu tak nebude. Pokud z nìj bylo odstraòováno prokládání, 
tak mùžete snížit parametr <i>dthresh</i> pro zpracování více oblastí ve snímku, ale podívejte se na upozornìní níže.</p>
<p>Ujistìte se, že to co máte za roztøepení, roztøepením skuteènì je. Napøíklad, má klip nìkdy obsah,
který je takový zámìrnì ale vypadá jako roztøepení. Pokud použijete SeparateFields() (samotný, bez Decomb)
a stále vidíte "roztøepení" v polích,
pak to není skuteèné roztøepení (prokládání), ale úmyslný obsah snímku.
<p>Pokud dìláte pøevod barev pøed Decomb, ujistìte se, že provádíte ConvertToXXX(interlaced=true).</p>
<p>Nemìòte vertikální velikost pøed použitím Decomb.</p>
<p><i>Upozornìní na zbytkové roztøepení</i>: Lidé se èasto zastaví na snímku, znaènì si ho pøiblíží a vidí nìjaké
slabé zbytkové roztøepení a trápí se tím. Ale to je opravdu zavádìjící pro vyhodnocení zbytkového roztøepení.
Lidské vnímání nemùže registrovat kontrast, když nastává menší rozdíl než prahová hodnota.
Ale prahová hodnota je nižší, protože se zvìtšuje velikost obrazu. To znamená, že když pøiblížíte obraz, 
dostanete nesprávnou pøedstavu o tom co ve skuteènosti vidíte v normální velikosti. Tedy, když se vìci pohybují
vidíme je se sníženým rozlišením; proto tedy zastavení se na snímku dává nesprávnou pøedstavu o tom co lze
vnímat. Pro zhodnocení zbytkového roztøepení, pøehrávejte klip s normální rychlostí a velikostí. Jestliže to vypadá dobøe,
tak buïte štastní!</p>
<p>Nakonec, snížení <i>dthresh</i> na nízké hodnoty (jako 0-5) zahodí vìtšinu výhod adaptivního
na oblastech založeného odstraòování prokládání, které Decomb provádí. Ztratíte rozlišení ve statických oblastech
snímkù, kde ho chcete nejvíc.</p>

<h3><a name="ants"></a>Dostávám "mravenèí pochod" v nìkterých tvrdých horizontálních hranách pøi použití FieldDeinterlace.</h3>
<p>Tento artefakt je dùsledkem algoritmu rozdílnosti polí použitého ve FieldDeinterlace. Všechny
deinterlacery mají charakteristické poruchy jakož i tento. Není dokonalé øešení pro odstranìní prokládání. Je to
obykle vidìt na hranách letterboxování. Mùžete nejdøíve vyøíznout letterboxy  a obnovit je
pozdìji (pokud je potøebujete) jako pracovní okolí. Alternativnì mùžete použít odstraòování prokládání,
založené na rozdílnosti snímkù, jako tøeba TomsMoComp, pokud pøijmete charakteristické artefakty rozdílnosti snímkù.</p>
<p>Prozkoumal jsem zpùsoby pro snížení tohoto artefaktu a doufám, že zlepším výkon v budoucnu.

<h3><a name="confused"></a>Nevyznám se v rozdílu mezi <i>threshold</i> a <i>dthreshold</i>
ve FieldDeinterlace.</h3>
<p>Zpracování probíhá takto (pokud full = false): Nejdøív je snímek testován zda je roztøepený.
To se provádí detekováním roztøepených oblastí a prohlédnutím jestli je tam dost roztøepení pro rozumné deklarování,
že je snímek roztøepený. Parametr <i>threshold</i> urèuje citlivost detekce roztøepení
v tomto kroku. Za druhé, pokud je snímek deklarován jako roztøepený, roztøepené oblasti snímku jsou znovu
detekovány, ale tentokrát použitím parametru <i>dthreshold</i> . Oblasti snímku detekované jako roztøepené
použitím <i>dthreshold</i> jsou pak deinterlovány (je odstranìno prokládání).
<p>
Pokud je full=true, tak je první krok vynechán a všechny snímky jsou deklarovány jako roztøepené.
<p>
Parametr z FieldDeinterlace <i>map</i> vám umožní pøímo vizualizovat efekt tìchto parametrù.
</p>

<h3><a name="ghosting"></a>Dostávám "duchy" ve snímcích, ve kterých jsem odstraòoval prokládání.</h3>
<p>Vìtšinou jsou duchové zpùsobeni použitím blend deinterlacingem.
Podívejte se na <a href=#blending>otázku smíchání (blending) versus interpolace</a>. Pro zbavení se duchù,
nastavte blend=false.</p>
<p>Další možnou pøíèinou je špatné nastavení poøadí polí spolu se zapnutým postprocessingem.
Follow the procedure described in the tutorial to correctly set the field order.</p>

<h3><a name="blending"></a>Technicky, jaký je rozdíl mezi smícháním (blending) a interpolací?</h3>
<p>
Pøedpokládejme, že máme 3 pixely v po sobì jdoucích øádcích a stejný posun x :
<pre>
a
b
c
</pre>
Pokud rozhodnete, že pixel b je roztøepený, a nahradíte ho tímto (0.5*a+0.5*c) což je (lineární)
interpolace. Pokud ho nahradíte tímto (0.25*a+0.5*b+0.25*c), což je smíchání (blending). Všimnìte si, že
pøi interpolaci jsou sudé øádky ponechány a liché øádky jsou vypoèteny jak je popsáno.
Pro smíchání je vypoèítán každý øádek. Smíchání tak produkuje mix ze dvou polí, zatímco
interpolace používá data pouze z jednoho pole. To je dùvod proè lidé øíkají, že smíchání (blending) zpùsobuje
"duchy". Mùžete eliminovat duchy nastavením blend=false.
Také si všimnìte, že zatímco interpolace mùže být vypoètena
na místì, a smíchání ne. Interpolace je trochu rychlejší.
<h3><a name="overriding"></a>Zdá se, že rùzné èásti mého klipu vyžadují rùzné hodnoty <i>vthresh</i>.
Co mám dìlat?</h3>
<p>
Detektor roztøepení použitý v Decomb je docela citlivý, ale mùže vám obèas zpùsobit potíže
když máte obsah, který má èásti, které nejsou roztøepené, ale mají detaily, které vypadají jako roztøepení.
Pokud nastavíte <i>vthresh</i> vysoko, aby jste se vyhnuli odstraòování prokládání v takových oblastech, mùžete
vám roztøepení proklouznout jinde. Zatímco je lepší chybovat na stranì opatrnosti a odstraòovat prokládání i z 
nìkterých dobrých snímkù, nìkteré extrémní pøípady vás donutí chtít nastavit rùzné hodnoty <i>vthresh</i> pro
rùzné èásti klipu. Naštìstí, Decomb to umožòuje svou schopností ruèního pøepsání (nadøazení). Podívejte se do
pøíruèky na další podrobnosti.
</p>

<h3><a name="guidance"></a>Jak ovlivní <i>gthresh</i> uspoøádání polí, když je zapnuto øízení šablony (pattern guidance)?</h3>
<p>
Pokud si øízení šablony (pattern guidance) myslí, že vypoètené (slepé) uspoøádání polí není to co øíkají pøedpovìdi založené na 
analýze šablony, zkusí pøepsat (nadøadit) slepé uspoøádání polí. Nadøazení je umožnìno, pokud  chyba šablony je menší než
<i>gthresh</i>.Berme <i>gthresh</i> jako omezení: omezuje jak velká chyba (špatné spojení) mùže být 
pøed tím, než je pøedpovìzené uspoøádání potlaèeno skuteèným vypoèteným uspoøádáním. Pokud je vaše <i>gthresh</i> pøíliš vysoká,
mùže zpùsobit, že nová šablona bude v klipu chybnì pøepsaná pøedchozí šablonou. Existuje zlatý støed, 
který umožní rychle uzavøít novou šablonu zatímco stále umožòuje øízení šablony pro
opravy nezdarù kvùli šumu, atd. Zlatý støed je obvykle v rozsahu 5-10%, ale bude
specifický pro daný klip.
</p>

<hr size=2 width="100%" align=center>
<p>Copyright &copy; 2003-2008, Donald A. Graft, All Rights Reserved.</p>
<p>Pro aktualizace a další filtry/nástroje, navštivte mou webovou stránku:<br>
<a href="http://neuron2.net" target="_top">http://neuron2.net</a>
</p>

<p><kbd>$English Date: 2004/08/13 21:57:25 $</kbd></p>
<p><kbd>Èeský pøeklad:18.3.2009</kbd></p>

</body>

</html>
