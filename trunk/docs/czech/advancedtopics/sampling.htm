<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<HTML>
<HEAD>
   <META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-2">
   <META NAME="GENERATOR" CONTENT="Microsoft FrontPage 4.0">
   <TITLE>Sampling</TITLE>
   <link rel="stylesheet" type="text/css" href="../../avisynth.css">
</HEAD>
<BODY>
<h1>Vzorkování (Sampling)</h1>
<h2> 1. Pøevody barevných formátù a&nbsp;chyba nadvzorkování&nbsp;barev (Chroma Upsampling Error)</h2>
<p>Následující obrázky ukazují chyby, které jsou pøíklady chyby zvý¹ení poètu vzorkù - nadvzorkování barev&nbsp;( <b> Chroma Upsampling
Error)</b>, nazývaných takto proto¾e video&nbsp;je&nbsp;nadvzorkováno&nbsp;nesprávnì (prokládané YV12&nbsp;pøevzorkované&nbsp;jako progresivní a naopak). Ve výsledku uvidíte mezery na horních nebo spodních okrajích barevných objektù a&nbsp;"duchy" - øádky plovoucí nad nebo pod objekty.</p>
<table border="1" width="100%">
  <tr>
    <td width="100%" align="middle"><IMG height=400 src="../../english/pictures/advancedtopics/badchroma.jpg" width=728 border=0></td>
  </tr>
  <tr>
    <td width="100%" align="middle"> obrázek&nbsp;1a: pøíklad prokládaného zdroje (YV12) , který byl nadvzorkován&nbsp;jako progresivní video (YUY2)
      (z http://zenaria.com/gfx/)</td>
  </tr>
</table>
<table border="1" width="100%">
  <tr>
    <td width="100%" align="middle"><IMG height=400 src="../../english/pictures/advancedtopics/goodchroma.jpg" width=728 border=0></td>
  </tr>
  <tr>
    <td width="100%" align="middle">    obrázek&nbsp;1b: stejný obrázek s korekcí nadvzorkování
      barev&nbsp;(z http://zenaria.com/gfx/)</td>
  </tr>
</table>
<table border="1" width="100%">
  <tr>
    <td width="100%" align="middle"><IMG height=400 src="../../english/pictures/advancedtopics/badchroma2.jpg" width=720 border=0></td>
  </tr>
  <tr>
    <td width="100%" align="middle"> obrázek&nbsp;2a: pøíklad progresivního zdroje (YV12)&nbsp;pøevzorkovaného jako prokládané&nbsp;video (YUY2)</td>
  </tr>
</table>
<table border="1" width="100%">
  <tr>
    <td width="100%" align="middle"><IMG height=400 src="../../english/pictures/advancedtopics/goodchroma2.jpg" width=720 border=0></td>
  </tr>
  <tr>
    <td width="100%" align="middle"> obrázek&nbsp;2b: stejný obrázek s korekcí pøevzorkování barev</td>
  </tr>
</table>
<p>  V této kapitole, budou uvedeny pøíèiny, které tuto chybu&nbsp;zpùsobují a&nbsp;jak ji napravit. Nápravou se zde myslí&nbsp;sní¾ení její viditelnosti, proto¾e&nbsp;ji&nbsp;nelze úplnì odstranit.</p>
<p>Odkazy:<br>
[<a href="http://www.hometheaterhifi.com/volume_8_2/dvd-benchmark-special-report-chroma-bug-4-2001.html">The
Chroma Upsampling Error</a>]<br>
[<a href="http://members.aol.com/ajaynejr/vidbug2.htm">The Chroma Upsampling
Error - Television and Video Advice</a>]</p>
<h3>1.1 Chyba nadvzorkování barev (neboli CUE)</h3>
<p>             Jak u¾ bylo øeèeno, chyba nadvzorkování barev nastane pøi pøevodu z&nbsp;(opravdu)&nbsp;prokládaného YV12 do vìt¹iny jiných formátù kdy si&nbsp;pøevodník&nbsp;myslí, ¾e video je progresivní. Nebo, jiný pøípad, je-li materiál progresivní (nebo&nbsp;prokládaný enkódován jako progresivní), a&nbsp;pøevzorkován jako prokládaný. Ale to není tak ¹patné jako v prvním pøípadì.</p>
<p> Budete-li prohlí¾et va¹e video ve&nbsp;VirtualDubu, 
budete ho potøebovat pøevést do&nbsp;RGB. Proto¾e&nbsp;AviSynth&nbsp;dodá YV12, VirtualDub ¾ádá&nbsp;kodek (napøíklad XviD&nbsp;nebo DivX) o pøevod&nbsp;z YV12&nbsp;do RGB. Nicménì kodek V®DY nadvzorkovává progresivnì. Odtud obdr¾íte pøi prohlí¾ení&nbsp;ve VirtualDubu&nbsp;artefakty v prokládaném&nbsp;YV12 materiálu. Ale ty se nenachází v&nbsp;YV12 videu (nebo ve výsledném zakódovaném materiálu). Aby jste si to ovìøili&nbsp;proveïte v AviSynthu&nbsp;pøevod pomocí&nbsp;ConvertToRGB(interlaced=  true) na konci va¹eho skriptu.</p>
<h3>  1.2 Korekce&nbsp;videa s chybou pøevzorkování barev</h3>
<p> Budete muset&nbsp;nìjakým zpùsobem rozmazat barevnost (jas necháte netknutý).</p>
<p>Napøíklad&nbsp;(pou¾ití tomsmocomp.dll):</p>
<pre>AviSource(...)
MergeChroma(TomsMoComp(-1,5,0))</pre>
<h2>2. Teoretické aspekty</h2>
<p>V této kapitole bude vysvìtleno&nbsp;rozmístìní barevnosti, jaký to má vztah ke sní¾ení poètu vzorkù&nbsp;- podvzorkování (subsampling) RGB -&gt; YUY2 -&gt; YV12 a jak je nadvzorkování provádìno&nbsp;v
AviSynthu.</p>
<p> Také bude detailnì vysvìtleno&nbsp;proè nastávají chyby&nbsp;nadvzorkování CUE. Shròme si poslední údaje,&nbsp;problém je v tom, ¾e je rozdíl mezi&nbsp;progresivním YV12 a prokládaným YV12, proto¾e barva je svisle sdílena&nbsp;sousedními pixely.<br>
<br>Viz také&nbsp; <a href="http://forum.doom9.org/showthread.php?s=&amp;threadid=52151&amp;highlight=upsampling">http://forum.doom9.org/showthread.php?s=&amp;threadid=52151&amp;highlight=upsampling</a>.</p>
<h3> 2.1 Barevné formáty: RGB, YUY2 a YV12</h3>
<p>             Abychom mohli pochopit jak pøevzorkování YV12 &lt;-&gt; YUY2&nbsp;pracuje&nbsp;a proè má význam, kdy¾ je vá¹ zdroj prokládaný nebo &nbsp;progresivní,&nbsp;budeme nejdøíve diskutovat&nbsp; barevné formáty YV12/YUY2. Není zde dùle¾ité, jak se vám uchovají v pamìti. Informace o tom naleznete zde:
<font color="#ff0000">ColorSpaces</font>.</p>
<h4>Barevný formát YUV 4:4:4</h4>
<p>Termín 4:4:4 znamená, ¾e pro ka¾dé ètyøi 
vzorky&nbsp;jasu&nbsp;(Y), jsou ètyøi vzorky&nbsp;U a V. Tak¾e ka¾dý pixel má&nbsp;jasovou hodnotu (Y),&nbsp;hodnotu &nbsp;U&nbsp;(vzorek modrého barevného rozdílu neboli&nbsp;Cb) a hodnotu V&nbsp;(vzorek èerveného&nbsp;barevného rozdílu neboli&nbsp; Cr). V¹imnìte si, "C" je právì&nbsp;vzorek barevnosti&nbsp;(UV-vzorek).</p>
<p>Rozvr¾ení&nbsp;4:4:4&nbsp;kódovaného obrazu vypadá následovnì</p>
<table border="1" width="50%">
  <tr>
    <td width="50%"> snímek</td>
    <td width="50%"> øádek</td>
  </tr>
  <tr>
    <td width="50%"> YC YC YC YC</td>
    <td width="50%"> øádek&nbsp;1</td>
  </tr>
  <tr>
    <td width="50%"> YC YC YC YC</td>
    <td width="50%"> øádek 2</td>
  </tr>
  <tr>
    <td width="50%"> YC YC YC YC</td>
    <td width="50%"> øádek 3</td>
  </tr>
  <tr>
    <td width="50%"> YC YC YC YC</td>
    <td width="50%"> øádek 4</td>
  </tr>
</table>
<h4>Barevný formát YUY2</h4>
<p>               YUY2 (nebo YUYV)&nbsp;je formát 4:2:2 .&nbsp;Termín 4:2:2 znamená, ¾e pro ka¾dé ètyøi vzorky&nbsp;jasu&nbsp;(Y), jsou dva vzorky&nbsp;U a V, které dávají&nbsp;u¾¹í pásmo barev (bandwidth) v pomìru k jasu. Tak¾e pro ka¾dý pixel, je&nbsp;horizontálnì sdílené UV (barevnost) se sousedním&nbsp;pixelem.&nbsp;</p>
<p>    Rozvr¾ení 4:2:2 kódovaného obrazu vypadá následovnì</p>
<table border="1" width="50%">
  <tr>
    <td width="50%"> snímek</td>
    <td width="50%"> øádek</td>
  </tr>
  <tr>
    <td width="50%"> YC Y YC Y</td>
    <td width="50%"> øádek 1</td>
  </tr>
  <tr>
    <td width="50%"> YC Y YC Y</td>
    <td width="50%"> øádek 2</td>
  </tr>
  <tr>
    <td width="50%"> YC Y YC Y</td>
    <td width="50%"> øádek 3</td>
  </tr>
  <tr>
    <td width="50%"> YC Y YC Y</td>
    <td width="50%"> øádek 4</td>
  </tr>
</table>
<h4>Barevný formát YV12</h4>
<p>       U&nbsp;barevného formátu &nbsp;YV12, je rozdíl mezi&nbsp;progresivním a prokládaným. Pøíèinou je, ¾e barevné hodnoty&nbsp;jsou také sdílené svisle dvìma sousedními øádky.</p>
<p>          YV12&nbsp;je 4:2:0 formát. Termín 4:2:0 znamená, ¾e pro ka¾dé ètyøi vzorky&nbsp;(dva horizontální a dva vertikální)&nbsp;jasu (Y), je jeden vzorek pro U a V, který dává u¾¹í pásmo barev&nbsp;v pomìru k jasu.</p>
<p><b>progresivní YV12</b></p>
<p>Ka¾dý pixel, sdílí v horizontálním smìru&nbsp;UV (C) se sousedním pixelem&nbsp;a vertikálnì sdílí&nbsp;UV&nbsp;se sousedním øádkem&nbsp;(tedy øádek&nbsp;1&nbsp;s øádkem 2,&nbsp;øádek 3&nbsp;s øádkem 4, atd).</p>
<p>Rozvr¾ení progresivního 4:2:0&nbsp;kódovaného obrazu vypadá následovnì&nbsp;(schema MPEG 2 -&nbsp;viz ní¾e)</p>
<table border="1" width="50%">
  <tr>
    <td width="50%"> snímek</td>
    <td width="50%"> øádek</td>
  </tr>
  <tr>
    <td width="50%">Y_Y_Y_Y</td>
    <td width="50%"> øádek 1</td>
  </tr>
  <tr>
    <td width="50%">C___C__</td>
    <td width="50%">&nbsp;</td>
  </tr>
  <tr>
    <td width="50%"> Y_Y_Y_Y</td>
    <td width="50%"> øádek 2</td>
  </tr>
  <tr>
    <td width="50%">&nbsp;</td>
    <td width="50%">&nbsp;</td>
  </tr>
  <tr>
    <td width="50%"> Y_Y_Y_Y</td>
    <td width="50%">øádek 3</td>
  </tr>
  <tr>
    <td width="50%"> C___C__</td>
    <td width="50%">&nbsp;</td>
  </tr>
  <tr>
    <td width="50%"> Y_Y_Y_Y</td>
    <td width="50%">øádek 4</td>
  </tr>
  <tr>
    <td width="50%">&nbsp;</td>
    <td width="50%">&nbsp;</td>
  </tr>
</table>
<p><b>prokládané YV12</b></p>
<p>Ka¾dý&nbsp;pixel,&nbsp;horizontalnì sdílí UV (barevnost 
neboli C)&nbsp;se sousedním&nbsp;pixelem a vertikálnì sdílí UV s&nbsp;dal¹ím sousedním øádkem&nbsp;(tedy&nbsp;øádek 1t&nbsp;s&nbsp;&nbsp;øádkem 3t,&nbsp;øádek 2b&nbsp;s øádkem&nbsp;4b, atd). Písmeno t (top) zde znaèí horní pole, písmeno b (bottom) dolní pole.</p>
<p>Rozvr¾ení prokládaného 4:2:0&nbsp;zakódovaného obrazu&nbsp;vypadá následovnì&nbsp;(schema MPEG 2&nbsp;-&nbsp;viz ní¾e)</p>
<table border="1" width="50%">
  <tr>
    <td width="50%"> snímek</td>
    <td width="50%"> øádek</td>
  </tr>
  <tr>
    <td width="50%"> Y_Y_Y_Y</td>
    <td width="50%"> øádek 1t</td>
  </tr>
  <tr>
    <td width="50%"> C___C__</td>
    <td width="50%">&nbsp;</td>
  </tr>
  <tr>
    <td width="50%"> Y_Y_Y_Y</td>
    <td width="50%"> øádek 2b</td>
  </tr>
  <tr>
    <td width="50%">&nbsp;</td>
    <td width="50%">&nbsp;</td>
  </tr>
  <tr>
    <td width="50%"> Y_Y_Y_Y</td>
    <td width="50%">øádek 3t</td>
  </tr>
  <tr>
    <td width="50%"> C___C__</td>
    <td width="50%">&nbsp;</td>
  </tr>
  <tr>
    <td width="50%"> Y_Y_Y_Y</td>
    <td width="50%">øádek 4b</td>
  </tr>
  <tr>
    <td width="50%">&nbsp;</td>
    <td width="50%">&nbsp;</td>
  </tr>
</table>
<p>nebo</p>
<table border="1" width="50%">
  <tr>
    <td width="33%"> pole&nbsp;1</td>
    <td width="33%"> pole 2</td>
    <td width="33%"> øádek</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%">&nbsp;</td>
    <td width="33%"> øádek 1t</td>
  </tr>
  <tr>
    <td width="33%"> C___C__</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 2b</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">øádek 3t</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%"> C___C__</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%">øádek 4b</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
  </tr>
</table>
<h3>2.2 Sní¾ení poètu vzorkù - podvzorkování (Subsampling)</h3>
<p> Podvzorkování se pou¾ívá&nbsp;k redukci po¾adavkù na ukládání a pásmo vysílání&nbsp;pro digitální video. Je to efektivní pro YCbCr signál, proto¾e lidské oko&nbsp;je citlivìj¹í&nbsp;na zmìnu v èerné a bílé ne¾ na zmìny v&nbsp;barvì. A i taková drastická&nbsp;redukce informací o barvì ukazuje velmi malý viditelný rozdíl. YUY2 a YV12 jsou pøíklady&nbsp;redukce barevných formátù.</p>
<h4>pøevod RGB -&gt; YUY2</h4>
<p>   Více o barevných pøevodech RGB -&gt; YUV&nbsp;najdete zde: <A href="color_conversions.htm">ColorConversions</a>.<br>
Pøipomeòme si rozvr¾ení 4:4:4 kódovaného obrazu</p>
<table border="1" width="50%">
  <tr>
    <td width="50%"> snímek</td>
    <td width="50%"> øádek</td>
  </tr>
  <tr>
    <td width="50%"> YC1 YC2 YC3 YC4</td>
    <td width="50%"> øádek 1</td>
  </tr>
  <tr>
    <td width="50%"> YC1 YC2 YC3 YC4</td>
    <td width="50%"> øádek 2</td>
  </tr>
  <tr>
    <td width="50%"> YC1 YC2 YC3 YC4</td>
    <td width="50%"> øádek 3</td>
  </tr>
  <tr>
    <td width="50%"> YC1 YC2 YC3 YC4</td>
    <td width="50%"> øádek 4</td>
  </tr>
</table>
<p>V&nbsp;AviSynthu,&nbsp;je ve&nbsp;výchozím re¾imu pou¾ito jádro 1-2-1&nbsp;pro interpolaci barvy, to je</p>
<p>C1x =    (C1+C1+C1+C2)/4 (C1 je pou¾ito tøikrát,&nbsp;proto¾e je to okraj)<br>
C3x =
 
  (C2+C3+C3+C4)/4<br>
C5x = (C4+C5+C5+C6)/4</p>
<p>4:2:2 kódovaný obraz&nbsp;se skládá</p>
<table border="1" width="50%">
  <tr>
    <td width="50%"> snímek</td>
    <td width="50%"> øádek</td>
  </tr>
  <tr>
    <td width="50%">Y1C1x Y2 Y3C3x Y4</td>
    <td width="50%"> øádek 1</td>
  </tr>
  <tr>
    <td width="50%">Y1C1x Y2 Y3C3x Y4</td>
    <td width="50%"> øádek 2</td>
  </tr>
  <tr>
    <td width="50%">Y1C1x Y2 Y3C3x Y4</td>
    <td width="50%"> øádek 3</td>
  </tr>
  <tr>
    <td width="50%">Y1C1x Y2 Y3C3x Y4</td>
    <td width="50%"> øádek 4</td>
  </tr>
</table>
<p> Jiný re¾im <A href="../corefilters/convert.htm">ConvertBackToYUY2</A> 
pou¾ije&nbsp;barevnost&nbsp;z levého pixelu, tedy</p>
<table border="1" width="50%">
  <tr>
    <td width="50%"> snímek</td>
    <td width="50%"> øádek</td>
  </tr>
  <tr>
    <td width="50%">Y1C1 Y2 Y3C3 Y4</td>
    <td width="50%"> øádek 1</td>
  </tr>
  <tr>
    <td width="50%">Y1C1 Y2 Y3C3 Y4</td>
    <td width="50%"> øádek 2</td>
  </tr>
  <tr>
    <td width="50%">Y1C1 Y2 Y3C3 Y4</td>
    <td width="50%"> øádek 3</td>
  </tr>
  <tr>
    <td width="50%">Y1C1 Y2 Y3C3 Y4</td>
    <td width="50%"> øádek 4</td>
  </tr>
</table>
<p><i>  V¹imnìte si&nbsp;(stejnì tak v rozvr¾ení jiných formátù) pozice&nbsp;barevných hodnot, pøedstavující&nbsp;VÁ®ENÝ výsledek
podvzorkování.</i></p>
<p><b>pøevod prokládaného YUY2 -&gt; YV12</b></p>
<p>Pøipomeneme si rozvr¾ení&nbsp;prokládaného 4:2:0 kódovaného obrazu, ale se zahrnutým váhovým faktorem:</p>
<table border="1" width="50%">
  <tr>
    <td width="33%">snímek</td>
    <td width="33%"> øádek</td>
    <td width="33%">vá¾ení</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 1t</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> C___C__</td>
    <td width="33%">&nbsp;</td>
    <td width="33%"> barevnost&nbsp; YUY2_øádkù<br>
      (0.75)*1t + (0.25)*3t</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 2b</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%">øádek 3t</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> C___C__</td>
    <td width="33%">&nbsp;</td>
    <td width="33%"> barevnost&nbsp; YUY2_øádkù<br>
      (0.25)*2b + (0.75)*4b</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%">øádek 4b</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
  </tr>
</table>
<p>nebo</p>
<table border="1" width="425" style="WIDTH: 425px; HEIGHT: 381px">
  <tr>
    <td width="25%"> pole&nbsp;1</td>
    <td width="25%"> pole&nbsp;2</td>
    <td width="25%"> øádek</td>
    <td width="25%">vá¾ení</td>
  </tr>
  <tr>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">&nbsp;</td>
    <td width="25%"> øádek&nbsp;1t</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%"> C___C__</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%"> barevnost&nbsp; YUY2_øádkù<br>
      (0.75)*1t + (0.25)*3t</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%"> øádek 2b</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">øádek 3t</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%"> C___C__</td>
    <td width="25%">&nbsp;</td>
    <td width="25%"> barevnost&nbsp; YUY2_øádkù<br>
      (0.25)*2b + (0.75)*4b</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">øádek 4b</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
</table>
<p><i>  V¹imnìte si&nbsp;(stejnì tak v rozvr¾ení jiných formátù) pozice&nbsp;barevných hodnot, pøedstavuje&nbsp;VÁ®ENÝ výsledek
podvzorkování.</i></p>
<p>Tak je barevnost rozta¾ena pøes&nbsp;dva jasové øádky v jednom poli (pùlsnímku)!</p>
<p><b>Pøevod progresivního YUY2 -&gt; YV12</b></p>
<p>Pøipomeneme si&nbsp;rozvr¾ení&nbsp;4:2:0 kódovaného&nbsp;obrazu</p>
<table border="1" width="50%">
  <tr>
    <td width="33%">snímek</td>
    <td width="33%"> øádek</td>
    <td width="33%">vá¾ení</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 1</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> C___C__</td>
    <td width="33%">&nbsp;</td>
    <td width="33%"> barevnost&nbsp; YUY2_øádkù<br>
      (0.5)*1 + (0.5)*2</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 2</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%">øádek 3</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> C___C__</td>
    <td width="33%">&nbsp;</td>
    <td width="33%"> barevnost&nbsp; YUY2_øádkù<br>
      (0.5)*3 + (0.5)*4</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%">øádek 4</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
  </tr>
</table>
<p><i>V¹imnìte si&nbsp;(stejnì tak v rozvr¾ení jiných formátù) pozice&nbsp;barevných hodnot, pøedstavuje&nbsp;VÁ®ENÝ výsledek sní¾ení poètu
vzorkù.</i></p>
<p>   Tak je barevnost rozta¾ena pøes&nbsp;dva jasové øádky v jednom snímku!</p>
<h3>2.3 Zvý¹ení poètu vzorkù - nadvzorkování (Upsampling)</h3>
<h4>Pøevod YUY2 -&gt; RGB</h4>
<p>Pøipomeneme si&nbsp;rozvr¾ení 4:2:2 kódovaného&nbsp;obrazu</p>
<table border="1" width="50%">
  <tr>
    <td width="50%"> snímek</td>
    <td width="50%"> øádek</td>
  </tr>
  <tr>
    <td width="50%">Y1C1 Y2 Y3C3 Y4</td>
    <td width="50%"> øádek 1</td>
  </tr>
  <tr>
    <td width="50%">Y1C1 Y2 Y3C3 Y4</td>
    <td width="50%"> øádek 2</td>
  </tr>
  <tr>
    <td width="50%">Y1C1 Y2 Y3C3 Y4</td>
    <td width="50%"> øádek 3</td>
  </tr>
  <tr>
    <td width="50%">Y1C1 Y2 Y3C3 Y4</td>
    <td width="50%"> øádek 4</td>
  </tr>
</table>
<p>Pro pøevod&nbsp;4:2:2 -&gt; 4:4:4 jsou chybìjící vzorky barevnosti&nbsp;interpolovány (s pou¾itím&nbsp;jádra 1-1), co¾ je</p>
<p>C2x = (C1+C3)/2<br>
C4x =
 
  (C3+C5)/2</p>
<p>a&nbsp;existující&nbsp;vzorky barevnosti&nbsp;jsou prostì zkopírovány.</p>
<p>  4:4:4 kódovaný obraz</p>
<table border="1" width="50%">
  <tr>
    <td width="50%"> snímek</td>
    <td width="50%"> øádek</td>
  </tr>
  <tr>
    <td width="50%">Y1C1 Y2C2x Y3C3 Y4C4x</td>
    <td width="50%"> øádek 1</td>
  </tr>
  <tr>
    <td width="50%">Y1C1 Y2C2x Y3C3 Y4C4x</td>
    <td width="50%"> øádek 2</td>
  </tr>
  <tr>
    <td width="50%">Y1C1 Y2C2x Y3C3 Y4C4x</td>
    <td width="50%"> øádek 3</td>
  </tr>
  <tr>
    <td width="50%">Y1C1 Y2C2x Y3C3 Y4C4x</td>
    <td width="50%"> øádek 4</td>
  </tr>
</table>
<h4>Pøevod prokládaného YV12&nbsp;-&gt; YUY2</h4>
<p>Chybìjí vzorky barevnosti jsou v&nbsp;AviSynthu&nbsp;interpolovány následovnì</p>
<table border="1" width="50%">
  <tr>
    <td width="33%">snímek</td>
    <td width="33%"> øádek</td>
    <td width="33%">vá¾ení</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek&nbsp;1t</td>
    <td width="33%">  barevnost YV12_øádkù<br>
      1t</td>
  </tr>
  <tr>
    <td width="33%"> C___C__</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 2b</td>
    <td width="33%">  barevnost YV12_øádkù<br>
      4b</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%">øádek 3t</td>
    <td width="33%">  barevnost YV12_øádkù<br>
      (0.75)*1t + (0.25)*5t</td>
  </tr>
  <tr>
    <td width="33%"> C___C__</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%">øádek 4b</td>
    <td width="33%">  barevnost YV12_øádkù<br>
      (0.75)*4b + (0.25)*8b</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 5t</td>
    <td width="33%">  barevnost YV12_øádkù<br>
      (0.25)*1t + (0.75)*5t</td>
  </tr>
  <tr>
    <td width="33%"> C___C__</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 6b</td>
    <td width="33%">  barevnost YV12_øádkù<br>
      (0.25)*4b + (0.75)*8b</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 7t</td>
    <td width="33%">  barevnost YV12_øádkù<br>
      (0.75)*5t + (0.25)*9t</td>
  </tr>
  <tr>
    <td width="33%"> C___C__</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 8b</td>
    <td width="33%">  barevnost YV12_øádkù<br>
      (0.75)*8b + (0.25)*12b</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
  </tr>
</table>
<p>nebo</p>
<table border="1" width="50%">
  <tr>
    <td width="25%"> pole&nbsp;1</td>
    <td width="25%"> pole 2</td>
    <td width="25%"> øádek</td>
    <td width="25%">vá¾ení&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
  </tr>
  <tr>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">&nbsp;</td>
    <td width="25%"> øádek 1t</td>
    <td width="25%">  barevnost YV12_øádkù<br>
      1t</td>
  </tr>
  <tr>
    <td width="25%"> C___C__</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%"> øádek 2b</td>
    <td width="25%">  barevnost YV12_øádkù<br>
      4b</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">øádek 3t</td>
    <td width="25%"> barevnost YV12_øádkù<br>
      (0.75)*1t + (0.25)*5t</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%"> C___C__</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">øádek 4b</td>
    <td width="25%">  barevnost YV12_øádkù<br>
      (0.75)*4b + (0.25)*8b</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">øádek 5t</td>
    <td width="25%">  barevnost YV12_øádkù<br>
      (0.25)*1t + (0.75)*5t</td>
  </tr>
  <tr>
    <td width="25%"> C___C__</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">øádek 6b</td>
    <td width="25%">  barevnost YV12_øádkù<br>
      (0.25)*4b + (0.75)*8b</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">øádek 7t</td>
    <td width="25%">  barevnost YV12_øádkù<br>
      (0.75)*5t + (0.25)*9t</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%"> C___C__</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">øádek 8b</td>
    <td width="25%">  barevnost YV12_øádkù<br>
      (0.75)*8b + (0.25)*12b</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
</table>
<p>AviSynth pou¾ije&nbsp;jinou interpolaci ne¾ je pøedpokládáno&nbsp;specifikací mpeg2&nbsp;(snad kvùli problémùm s rychlostí).&nbsp;Mpeg 2 je:&nbsp;</p>
<table border="1" width="50%">
  <tr>
    <td width="25%"> pole&nbsp;1</td>
    <td width="25%"> pole&nbsp;2</td>
    <td width="25%"> øádek</td>
    <td width="25%">vá¾ení&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
  </tr>
  <tr>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">&nbsp;</td>
    <td width="25%"> øádek 1t</td>
    <td width="25%">  barevnost YV12_øádkù<br>
      1t</td>
  </tr>
  <tr>
    <td width="25%"> C___C__</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%"> øádek 2b</td>
    <td width="25%">  barevnost YV12_øádkù<br>
      4b</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">øádek 3t</td>
    <td width="25%">  barevnost YV12_øádkù<br>
      (5/8)*1t + (3/8)*5t</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%"> C___C__</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">øádek 4b</td>
    <td width="25%">  barevnost YV12_øádkù<br>
      (7/8)*4b + (1/8)*8b</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">øádek 5t</td>
    <td width="25%">  barevnost YV12_øádkù<br>
      (1/8)*1t + (7/8)*5t</td>
  </tr>
  <tr>
    <td width="25%"> C___C__</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">øádek 6b</td>
    <td width="25%">  barevnost YV12_øádkù<br>
      (3/8)*4b + (5/8)*8b</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">øádek 7t</td>
    <td width="25%">  barevnost YV12_øádkù<br>
      (5/8)*5t + (3/8)*9t</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%"> C___C__</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%"> Y_Y_Y_Y</td>
    <td width="25%">øádek 8b</td>
    <td width="25%">  barevnost YV12_øádkù<br>
      (7/8)*8b + (1/8)*12b</td>
  </tr>
  <tr>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
    <td width="25%">&nbsp;</td>
  </tr>
</table>
<p><b>Pøevod progresivního YV12&nbsp;-&gt; YUY2</b></p>
<p>  Chybìjí vzorky barevnosti jsou interpolovány následovnì</p>
<table border="1" width="50%">
  <tr>
    <td width="33%">snímek</td>
    <td width="33%"> øádek</td>
    <td width="34%">vá¾ení</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek&nbsp;1</td>
    <td width="34%">  barevnost YV12_øádkù<br>
 1</td>
  </tr>
  <tr>
    <td width="33%"> C___C__</td>
    <td width="33%">&nbsp;</td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek&nbsp;2</td>
    <td width="34%">  barevnost YV12_øádkù<br>
 (0.75)*1 + (0.25)*3</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 3</td>
    <td width="34%">  barevnost YV12_øádkù<br>
 (0.25)*1 + (0.75)*3</td>
  </tr>
  <tr>
    <td width="33%"> C___C__</td>
    <td width="33%">&nbsp;</td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 4</td>
    <td width="34%">  barevnost YV12_øádkù<br>
 (0.75)*3 + (0.25)*5</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 5</td>
    <td width="34%">  barevnost YV12_øádkù<br>
 (0.25)*3 + (0.75)*5</td>
  </tr>
  <tr>
    <td width="33%"> C___C__</td>
    <td width="33%">&nbsp;</td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 6</td>
    <td width="34%">  barevnost YV12_øádkù<br>
 (0.75)*5 + (0.25)*7</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="34%">&nbsp;</td>
  </tr>
</table>
<h3>2.4 Odkazy</h3>
<p><font color="#ff0000">Barevná prostøedí</font><br>
[<a href="http://www.quantel.com/domisphere/infopool.nsf/HTML/dfb444?OpenDocument">4:4:4</a>] vzorkování<br>
[<a href="http://www.quantel.com/domisphere/infopool.nsf/HTML/dfb422?OpenDocument">4:2:2</a>] vzorkování<br>
[<a href="http://www.quantel.com/domisphere/infopool.nsf/HTML/dfb420?OpenDocument">4:2:0</a>] vzorkování<br>
[<a href="http://www.hometheaterhifi.com/volume_8_2/dvd-benchmark-special-report-chroma-bug-4-2001.html">
Nadvzorkování barevnosti</a>]<br>
[<a href="http://www.mir.com/DMG/chroma.html">Standardy podvorkování barevnosti</a>]</p>
<h3>3.1 Vzorkování MPEG-1&nbsp;proti MPEG-2</h3>
<p>Existují dva obecné zpùsoby&nbsp;4:2:0 vzorkování. Jeden z nich je pou¾it v&nbsp;MPEG-2 (a CCIR-601) videu, a druhý je pou¾it&nbsp;v MPEG-1.&nbsp;
<b>MPEG-2 schema je zpùsob jakým&nbsp;AviSynth&nbsp;vzorkuje 4:2:0 video</b>, proto¾e plnì umo¾òuje vyhnout se&nbsp;horizontálnímu pøevzorkování&nbsp;v
pøevodech 4:2:0 &lt;-&gt; 4:2:2.</p>
<p>Rozvr¾ení&nbsp;progresivního MPEG-1&nbsp; 4:2:0&nbsp;kódovaného obrazu</p>
<table border="1" width="50%">
  <tr>
    <td width="33%">snímek</td>
    <td width="33%"> øádek</td>
    <td width="34%">vá¾ení&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 1</td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%">_C__C_</td>
    <td width="33%">&nbsp;</td>
    <td width="34%">barevnost&nbsp;YUY2_øádkù<br>
      (0.5)*1 + (0.5)*2</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 2</td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 3</td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%">_C__C_</td>
    <td width="33%">&nbsp;</td>
    <td width="34%"> barevnost&nbsp;YUY2_øádkù<br>
      (0.5)*3 + (0.5)*4</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 4</td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="34%">&nbsp;</td>
  </tr>
</table>
<p>Rozvr¾ení&nbsp;MPEG-2 4:2:0 kódovaného obrazu</p>
<table border="1" width="50%">
  <tr>
    <td width="33%">snímek</td>
    <td width="33%"> øádek</td>
    <td width="34%">vá¾ení&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 1</td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%">C___C__</td>
    <td width="33%">&nbsp;</td>
    <td width="34%"> barevnost&nbsp;YUY2_øádkù<br>
      (0.5)*1 + (0.5)*2</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> line 2</td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 3</td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%">C___C__</td>
    <td width="33%">&nbsp;</td>
    <td width="34%"> barevnost&nbsp;YUY2_øádkù<br>
      (0.5)*3 + (0.5)*4</td>
  </tr>
  <tr>
    <td width="33%"> Y_Y_Y_Y</td>
    <td width="33%"> øádek 4</td>
    <td width="34%">&nbsp;</td>
  </tr>
  <tr>
    <td width="33%">&nbsp;</td>
    <td width="33%">&nbsp;</td>
    <td width="34%">&nbsp;</td>
  </tr>
</table>
<h3>3.2 DV vzorkování</h3>
<p>Pro úplnost,&nbsp;zmíníme DV vzorkování. DV&nbsp;je 4:2:0 (PAL) a 4:1:1 (NTSC). V¹imnìte si, ¾e pozice vzorku&nbsp;prvního z nich&nbsp;je
jiná ne¾ v&nbsp;4:2:0&nbsp;barevnosti&nbsp;u MPEG-1/MPEG-2!</p>
<p>Rozvr¾ení&nbsp;4:2:0 kódovaného obrazu (zalo¾eného na polích)</p>
<table border="1" width="50%">
  <tr>
    <td width="50%">pole</td>
    <td width="50%"> øádek</td>
  </tr>
  <tr>
    <td width="50%"> YV Y YV Y YV Y YV Y</td>
    <td width="50%"> øádek 1</td>
  </tr>
  <tr>
    <td width="50%"> YU Y YU Y YU Y YU Y</td>
    <td width="50%"> øádek 2</td>
  </tr>
  <tr>
    <td width="50%"> YV Y YV Y YV Y YV Y</td>
    <td width="50%"> øádek 3</td>
  </tr>
  <tr>
    <td width="50%"> YU Y YU Y YU Y YU Y</td>
    <td width="50%"> øádek 4</td>
  </tr>
</table>
<p>Rozvr¾ení 4:1:1 kódovaného obrazu (zalo¾eného na polích)</p>
<table border="1" width="50%">
  <tr>
    <td width="50%">pole</td>
    <td width="50%"> øádek</td>
  </tr>
  <tr>
    <td width="50%"> YC Y Y Y YC Y Y Y&nbsp;</td>
    <td width="50%"> øádek 1</td>
  </tr>
  <tr>
    <td width="50%"> YC Y Y Y YC Y Y Y&nbsp;</td>
    <td width="50%"> øádek 2</td>
  </tr>
  <tr>
    <td width="50%"> YC Y Y Y YC Y Y Y&nbsp;</td>
    <td width="50%"> øádek 3</td>
  </tr>
  <tr>
    <td width="50%"> YC Y Y Y YC Y Y Y&nbsp;</td>
    <td width="50%"> øádek 4</td>
  </tr>
</table>
<p>Nìkteré komentáøe k tìmto formátùm:<br>
   - 4:1:1 je nativnì podporován v AviSynthu v2.6.<br>
- V¹echny DV dekodéry&nbsp;produkují výstup&nbsp;YUY2&nbsp;nebo RGB (s výjimkou&nbsp;ffdshow, pokud je zapnuto&nbsp;YV12).<br>
- Pøi výstupu&nbsp;YUY2/RGB (NTSC), 
kodek&nbsp;MainConcept&nbsp;duplikuje barevné vzorky místo jejich interpolování. Pro korekci tohoto jevu mù¾e být
pou¾it&nbsp;[<a href="http://mywebpages.comcast.net/trbarry/downloads.htm">ReInterpolate411
plugin</a>       ]&nbsp;,&nbsp;vede to k lep¹ímu výsledku.</p>
<h3>3.3 Odkazy</h3>
<p>[<a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/dnwmt/html/YUVFormats.asp">MSDN:
YUV sampling</a>] Popisuje vìt¹inu bì¾ných metod&nbsp;YUV&nbsp;vzorkování.<br>
[<a href="http://www.adamwilt.com/pix-sampling.html">DV sampling</a>]</p>
<h2>4. 4:2:0 Problém prokládané barevnosti (Interlaced Chroma Problem or ICP)</h2>
<p>Obecnì prokládaný obsah&nbsp;má i statické èásti. Pokud je správnì
zvìt¹ován poèet vzorkù pomocí prokládaného pøevzorkování, pøece zùstávají&nbsp; <i>problémy barevnosti na 
&nbsp;diagonálních&nbsp;hranách&nbsp;jasnì barevných&nbsp;objektù ve statických èástech&nbsp;snímku</i>. Dùvodem je, ¾e "Kdy¾ se pozdìji slo¾í dvì 
pole&nbsp;zpìt dohromady odstraòovaèem prokládání&nbsp;(nebo ve va¹ich oèích&nbsp;a v mozku, kdy¾ sledujete&nbsp;prokládaný obraz na TV), relativní&nbsp; postupné odstupòování&nbsp;barev a&nbsp;kontur&nbsp;ka¾dého pole&nbsp;se lomí&nbsp;mírnì rozdílným souborem odstupòováním barev&nbsp;a kontur z druhého pole." (Citace z prvního odkazu). To se nazývá&nbsp;
<b>Problém prokládané barevnosti (the Interlaced Chroma Problem)</b> .&nbsp;"Øe¹ením" je pohybovì adaptivní nadvzorkování, ale takový
filtr v&nbsp;AviSynthu/VDubu, který by se to pokusil provést zatím není.</p>
<p>Odkazy:<br>
[<a href="http://www.hometheaterhifi.com/volume_8_2/dvd-benchmark-special-report-chroma-bug-4-2001.html">The
4:2:0 Interlaced Chroma Problem</a>]<br>
[<a href="http://members.aol.com/ajaynejr/vidbug2.htm">The 4:2:0 Interlaced
Chroma Problem - Television and Video Advice</a>]</p>
<p><kbd>$English Date: 2009/07/12 12:49:59 $</kbd></p>
<P><KBD>Èeský pøeský pøeklad:18.9.2009</KBD></P>
<FORM><INPUT TYPE="button" VALUE="Zpìt"
 onClick="history.go(-1)"></FORM>
</BODY>
</HTML>

