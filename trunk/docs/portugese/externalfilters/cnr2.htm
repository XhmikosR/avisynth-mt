<html>
<head>
<title>Cnr2</title>
   <link rel="stylesheet" type="text/css" href="../../avisynth.css">
<!--
Automatically generated, don't change:
$Id: cnr2.htm,v 1.1 2006/03/26 18:11:53 wilbertd Exp $ 
-->
</head>
<body>
<h1>Cnr2 (Redutor de Ruído Croma)</h1>
<h2>Abstrato</h2>
<b>autor:</b> <span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Redutor de Ruído Croma por MarcFD e outros</span><br>
<b>versão:</b>   2.61<br>
<b>dowload:</b> <a href="http://www.avisynth.org/warpenterprises/">http://www.avisynth.org/warpenterprises/</a>
<br><b>categoria:</b>  <span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Suavizadores </span> Temporal
<br><b><span style="font-size:10.0pt;mso-bidi-font-size:
12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">requisitos</span>:</b>  
<ul>
  <li>YV12 &amp; YUY2 Colorspace</li>
</ul>
<hr>
<font face="verdana">
<h2>O que ele faz</h2>
<p style="margin:0cm;margin-bottom:.0001pt"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">Este filtro é um Estabilizador de Croma para
fontes analógicas. <o:p>
</o:p>
</span></p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-fareast-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">É um filtro temporal, muito efetivo contra dois
artefatos de croma: arco-íris estacionários e enorme atividade de croma analógico.</span>
<h2>Uso</h2>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Verdana;mso-fareast-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:
&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:PT-BR;
mso-bidi-language:AR-SA">Inclua estas linhas em seu escrito Avisynth:</span>
<pre></font><font face="Verdana">LoadPlugin(&quot;Cnr2.dll&quot;)
# exemplo
Cnr2() # for TV/VHS caps
Cnr2(&quot;xxx&quot;, 4, 5, 255) # minha sugestão para remover </font><font face="verdana"><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-fareast-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">arco-íris</span></font><font face="Verdana">.</font></pre>
<p><font face="verdana">Sintaxe :
</font>
</p>
<p><code><font face="verdana">Cnr2
</font>
</code>
<font face="Verdana"> (clip, <var>mode=&quot;oxx&quot;, scdthr=8, ln=35, lm=192,
un=47), um=255, vn=47, vm=255, log=false</var>)</font>
</p>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana"><var>mode</var></font><font face="verdana"> :
</font>
</p>
<p style="margin-left: 0cm; margin-right: 0cm; margin-top: 0; margin-bottom: 0"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">modo de cada componente &quot;YUV&quot; <o:p>
</o:p>
</span></p>
<p style="margin-left: 0cm; margin-right: 0cm; margin-top: 0; margin-bottom: 0"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">dois modos são possíveis: largo ('o') e
estreito ('x') <o:p>
</o:p>
</span></p>
<p style="margin-top: 0; margin-bottom: 0"><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-fareast-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">modo estreito é mais sensível às variações e
menos efetivo</span>
<p style="margin-top: 0; margin-bottom: 0">&nbsp;</p>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana"><var>scdthr</var></font><font face="verdana"> :
</font>
</p>
<p style="margin-left: 0cm; margin-right: 0cm; margin-top: 0; margin-bottom: 0"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">percentual de detecção de mudança de cena <o:p>
</o:p>
</span></p>
<p style="margin-left: 0cm; margin-right: 0cm; margin-top: 0; margin-bottom: 0"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">abaixe para torná-la mais sensível <o:p>
</o:p>
</span></p>
<p style="margin:0cm;margin-bottom:.0001pt"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">se um mudança de cena é detectada, <o:p>
</o:p>
</span></p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-fareast-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">cnr2 reajustará o filtro para a nova cena</span>
<p style="margin-top: 0; margin-bottom: 0">&nbsp;</p>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana"><var>ln,lm,un,um,vn,vm</var></font><font face="verdana"> : 0
a 255</p>
<p style="margin-left: 0cm; margin-right: 0cm; margin-top: 0; margin-bottom: 0"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">os valores n são a sensibilidade de
movimento: <o:p>
</o:p>
</span></p>
<p style="margin-left: 0cm; margin-right: 0cm; margin-top: 0; margin-bottom: 0"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">valores mais altos vão remover mais ruído, <o:p>
</o:p>
</span></p>
<p style="margin:0cm;margin-bottom:.0001pt"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">mas pode produzir artefatos fantasmas <o:p>
</o:p>
</span></p>
<p style="margin:0cm;margin-bottom:.0001pt"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">os valores m são a efetividade máxima do
removedor: <o:p>
</o:p>
</span></p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-fareast-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">abaixe-os para reduzir o efeito da remoção.</span>
</font>
<p style="margin-top: 0; margin-bottom: 0">&nbsp;</p>
<p style="margin-top: 0; margin-bottom: 0"><font face="Verdana"><var>og</var></font><font face="verdana"> :
</font>
</p>
<p style="margin-top: 0; margin-bottom: 0"><font face="verdana"> <span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:Verdana;mso-fareast-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:
&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:PT-BR;
mso-bidi-language:AR-SA">Para anotar scd internos. use DebugView para ver.</span></p>
<pre>&gt; Cnr2()
&gt; Cnr2(&quot;oxx&quot;, 8, 35, 192, 47, 255, 47, 255, false)
&gt; Cnr2(mode=&quot;oxx&quot;, scdthr=8, ln=35, lm=192, un=47, um=255, vn=47, vm=255, false)</pre>
<p><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-ansi-language:PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA">são</span><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:Verdana;
mso-fareast-font-family:&quot;Times New Roman&quot;;mso-bidi-font-family:&quot;Times New Roman&quot;;
mso-ansi-language:PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA"> três
apelidos: eles produzem o mesmo filtrado.</span><br>
</p>
<h2>História</h2>
<p style="margin:0cm;margin-bottom:.0001pt"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">Este Filtro é inspirado no filtro Virtual Dub
Chroma Noise Reduction 1.1 (por Gilles Mouchard) <o:p>
</o:p>
</span></p>
<p style="margin:0cm;margin-bottom:.0001pt"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">cnr 1.1 - era um bom filtro croma mas usava
conversão YUV para fazer o trabalho. <o:p>
</o:p>
</span></p>
<p style="margin:0cm;margin-bottom:.0001pt"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">Eu o usei para codificar VHS, porque era o
melhor filtro de ruído </span><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">Croma </span><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">que testei. <o:p>
</o:p>
</span></p>
<p style="margin:0cm;margin-bottom:.0001pt"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">Mas quando comecei usar o AviSynth e o
Huffyuv, a conversão RGB era elevada. <o:p>
</o:p>
</span></p>
<p style="margin:0cm;margin-bottom:.0001pt"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">Assim dei uma olhada no código e escrevi meu
próprio filtro do zero, baseado no mesmo algo(ritmo). <o:p>
</o:p>
</span></p>
<p style="margin:0cm;margin-bottom:.0001pt"><span style="mso-bidi-font-family: Microsoft Sans Serif">A</span><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;"> produção do cnr2 é 99,9% a 100% igual ao
cnr (devido ao colorspace YUV) <o:p>
</o:p>
</span></p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-fareast-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">e é 3 a 5 vezes mais rápido (Cnr2 faz denoising
em 640x480x25 fps em tempo real, com uma CPU 1,4 Ghz)</span>
<p>&nbsp;
<p><u>version 2.1 (31.7.2002)</u></p>
<p>&nbsp;&nbsp;&nbsp; little review. corrections.</p>
<p><u>version 2.2 (01.8.2002)</u></p>
<p>&nbsp;&nbsp;&nbsp; First frame bug fixed.</p>
  <u>version 2.3 (17.11.2002)</u>
<p>&nbsp;&nbsp;&nbsp; YV12 Code and SCD (scene change detection)</p>
<p><u>version 2.4 (17.11.2002)</u></p>
<p>&nbsp;&nbsp;&nbsp; small changes/bug fixes</p>
  <u>version 2.51 (13.11.2003)</u>
<p>&nbsp;&nbsp;&nbsp; Klaus Post: bug fixes.</p>
<u>
      version 2.6 (29.06.2004)</u>
<p>&nbsp;&nbsp;&nbsp; tritical: few bug fixes, scene change detection overhaul, code cleanup.&nbsp;</p>
<p><u>version 2.6.1 (30.06.2004)</u></p>
<p>&nbsp;&nbsp;&nbsp; tritical: made yuy2 processing fast again.&nbsp;<br>
</p>
<h3>Distribuição:</h3>
<p style="margin:0cm;margin-bottom:.0001pt"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">Este é um sofware de distribuição livre sob
as condições do GNU-GPL <o:p>
</o:p>
</span></p>
<p style="margin:0cm;margin-bottom:.0001pt"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">A única restrição é me (enviar um) e-mail
se quiser fazer algo com <o:p>
</o:p>
</span></p>
<p style="margin:0cm;margin-bottom:.0001pt"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">a fonte, porque não quero que você perca seu
tempo para decodificar meu <o:p>
</o:p>
</span></p>
<p style="margin:0cm;margin-bottom:.0001pt"><span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">C,C++,Delphi escrito secreto (ou qualquer
outra linguagem). <o:p>
</o:p>
</span></p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-fareast-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Obrigado :)</span>
<p><br>
<h3>Contato:</h3>
<p style="margin-top: 0; margin-bottom: 0"><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-ansi-language:PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA">Não
tenha dúvida de me (enviar)</span> <a href="mailto:marc.fd@libertysurf.fr">e-mail</a>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-ansi-language:PT-BR;mso-fareast-language:PT-BR;mso-bidi-language:AR-SA">para
qualquer sugestão: -), relatório de bug: - (,</span><br>
</font>
<span style="mso-bidi-font-family:
&quot;Microsoft Sans Serif&quot;">pedido de característica :D, ou qualquer
outro: -P. <o:p>
</o:p>
</span>
<p style="margin-top: 0; margin-bottom: 0"><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;
mso-fareast-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Eu espero que você ache útil este prog! (eu
acho...)</span></p>
<p><font face="Verdana"><kbd>$Date: 2006/03/26 18:11:53 $</kbd></font><kbd> Portuguese translation by RoLon</kbd></p>
</body>
</html>
