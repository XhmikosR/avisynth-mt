<!DOCTYPE html
          PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
          "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html   xmlns   = "http://www.w3.org/1999/xhtml">
<head>
<link rel="STYLESHEET" href="filtersdk.css" type="text/css" />
<title>WorkingWithImages - AviSynth</title>
</head>
<BODY>

<div id="body">

<h1><a href="http://www.avisynth.org/WorkingWithImages" style="text-decoration:none">
    WorkingWithImages</a>
    	<p>
	</h1>


<p>All images are given a pitch. The pitch is basically what can be described as "length of a line". 
What's funny is that the pitch does not have to be equal to the width of the image.</p>


<p>For instance, if you crop something off your image, 
the only thing that changes is the width of your image; 
the pitch and the actual byte-count of a line remains the same.</p>


<p>The image is then laid out like this:</p>


<p>rrrrrrrrrrrrrrrrpppp</p>

<p>rrrrrrrrrrrrrrrrpppp</p>

<p>rrrrrrrrrrrrrrrrpppp</p>


<p>Where 'r' are the pixels inside the image used, and 'p' is the padding inserted after each line.</p>


<h3>Fast Information</h3><p><var>Width</var> = width in pixels.</p>

<p><var>Rowsize</var> = number of bytes in one line.</p>

<p><var>Pitch</var> = distance from start of one line to the next in bytes.</p>


<p><var>vi->BytesFromPixels(n)</var> = size of n pixels in bytes - 
does NOT take pitch into consideration, so can only be used within a line.</p>


<p>For the <a href="PlanarImageFormat.htm">PlanarImageFormat</a>:</p>

<p>Aligned rowsize = width in bytes, always divisible with 8.</p>


<h3>VideoInfo vs. PVideoFrame</h3>VideoInfo is considered the "constant" video info. 
This cannot change in any way. The information such as width, height and colorspace cannot change. 
So the information you get from this can be trusted to be the same from all frames you recieve. 
If you change the VideoInfo you have received it will not change the frames you receive, 
but a modified 'VideoInfo vi' can be sent to env->NewVideoFrame(vi) 
and a new frame with the changed parameters will be created.  
Only your own filter can modify the VideoInfo given to your filter.

<p>PVideoFrame contains information about a particular frame you requested. 
Height and Rowsize should not change (this can be considered a bug). 
Pitch can change, so <strong>you cannot rely on pitch being the same for all frames you recieve</strong>. </p>


<h3>More Information</h3><p>See more about <a href="DataStorageInAviSynth.htm">DataStorageInAviSynth</a>.</p>

<p>See more about <a href="ColorSpaces.htm">ColorSpaces</a>.</p>


</div>
<p><kbd>$Date: 2006/11/08 20:40:17 $<br>
Original version of this document at <a href="http://www.avisynth.org/WorkingWithImages">http://www.avisynth.org/WorkingWithImages</a>
</kbd></p>
</BODY>
</html>
