<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html lang="ru"><head><!-- 
Automatically generated, don't change: 
$Id: faq_frameserving.htm,v 1.5 2008/07/18 17:54:11 fizick Exp $ 
-->

    <meta http-equiv="Content-Language" content="ru">
<meta http-equiv="Content-Type" content="text/html; charset=windows-1251">
  
  
  <title>Часто задаваемые вопросы - Открытие скриптов</title><style type="text/css"></style>
  <link rel="stylesheet" type="text/css" href="../avisynth.css"></head>
<body>
<h1>Часто задаваемые вопросы по AviSynth - Открытие скриптов</h1>

<h2>Содержание</h2>

<ol>
  <li><a href="#What_is_frameserving_and_what_is_it_good_for.3F">Что такое фрейм-сервинг и для чего он хорош ?</a></li>
  <li><a href="#How_do_I_use_AviSynth_as_a_frameserver.3F">Как мне использовать AviSynth как фрейм-сервер ?</a></li>
  <li><a href="#How_do_I_frameserve_my_AVS-file_to_encoder.2Fapplication_X.3F">Как мне загрузить мой AVS файл в кодировщик/приложение X ?</a>
    <ul>
      <li><a href="#Direct_frameserving_to_compatible_applications">Прямая передача кадров (фреймсервинг) в совместимые приложения</a></li>
      <li><a href="#Direct_frameserving_to_applications_using_additional_plugins">Прямая передача кадров в приложение, 
      используя дополнительные плагины</a></li>
      <li><a href="#Direct_frameserving_to_special_or_modified_versions_of_encoders">Прямая передача кадров 
      в специальные или модифицированные версии кодировщиков</a></li>
      <li><a href="#Frameserving_to_applications_via_fake_AVI_files_and_proxy_utilities">Передача кадров приложению 
      через фальшивые AVI файлы и прокси-утилиты</a></li>
      <li><a href="#Frameserving_via_pipe_from_auxiliary_program_to_application-encoders">Передача кадров через конвейер
       из дополнительной программы в приложения-кодировщики</a></li>
    </ul>
  </li>
  <li><a href="#How_do_I_solve_problems_when_opening.2Freading_scripts_in_encoders_and_players.3F">Как мне решить проблемы 
  с открытием (чтением) скриптов в кодировщиках и проигрывателях?</a></li>
  <li><a href="#How_do_I_frameserve_from_Premiere.2FUlead.2FVegas_to_AviSynth.3F">Как мне передавать кадры из Premiere/Ulead/Vegas
в AviSynth ?</a></li>
</ol>


<a name="What_is_frameserving_and_what_is_it_good_for.3F">
<h3>Что такое фрейм-сервинг и для чего он хорош ?</h3>

<p>О: Превосходное описание находится на <a href="http://neuron2.net/LVG/frameserving.html">зеркале домашней страницы Lukes</a>:
</p>

<p>"Фрейм-сервинг (frameserving, по-русски перевести сложно, но можно как снабжение кадрами,
подача
кадров, передача кадров, покадровая передача, открытие скриптов) есть процесс, при котором Вы прямо
переносите видео данные от одной программы на Вашем компьютере к
другой. Никаких промежуточных или временных файлов не создается.
Программа, которая открывает файл(ы)-источник(и) и выводит видео
данные, называется фрейм-сервер ( frameserver, податчик кадров). &nbsp;Программа,
которая принимает данные, может быть видео приложением любого типа.
</p>

<p>Существуют две главные причины, по которым Вы хотели бы использовать фрейм-сервинг (покадровую передачу)&nbsp;видео:
</p>

<ol type="1">

&nbsp; <li>Экономия дискового пространства:</li>
<br>В зависимости
от подающего кадры приложения, Вы обычно можете
редактировать/обрабатывать Ваше видео, когда оно покадрово передается.
Так как покадровая подача не производит промежуточных файлов, Вы можете
использовать программу фрейм-сервер, чтобы изменить Ваше видео, не
требуя никакого дополнительного дискового пространства. Например, если
Вы хотите объединить два видео файла, масштабировать их, и послать
другому видео приложению, покадровая подача могла бы позволить Вам
делать это без создания огромных промежуточных файлов. <br>
&nbsp; <li>Расширенная совместимость:</li>
<br>Со
стороны видео приложения, которое принимает покадрово подаваемое видео,
входные данные выглядят подобно относительно маленькому, несжатому
видео файлу. Однако,&nbsp; файл-источник, который передает
фрейм-сервер, может в действительности быть, например, высоко
сжатым&nbsp;MPEG-1 видео. Если Ваше видео приложение не поддерживает
файлы MPEG-1, это не проблема так как приложение просто принимает
стандартное несжатое видео от фрейм-сервера.
Эта особенность покадровой подачи позволяет Вам открывать определенные
типы файлов в приложении, которое нормально не поддерживало бы их.
</ol>

<p><br>Более того, так как видео приложение получает видео источник
покадрово во времени, оно не знает ничего о размерах файла видео
источника. Следовательно, если Ваше приложение имеет ограничение 2 GB
или 4 GB
на размер входного файла, это не будет иметь никакого эффекта на Ваше
передаваемое по кадром видео.
Вы могли бы загрузить 100 GB видео через фрейм-сервер в приложение,
ограниченное до 2 GB и это не вызвало бы проблем."
<br>
&nbsp;
</p>

<a name="How_do_I_use_AviSynth_as_a_frameserver.3F"></a>
<h3>Как мне использовать AviSynth как фрейм-сервер для передачи кадров?</h3>

<p>Напишите скрипт, используя текстовый редактор. Загрузите Ваш клип (смотри <a href="faq_loading_clips.htm">Загрузка клипов</a>)
в AviSynth, сделайте необходимую фильтрацию и загрузите файл AVS в кодировщик/приложение
X (это должен быть кодировщик или приложение, которое может читать файлы AVI, смотри 
<a href="#How_do_I_frameserve_my_AVS-file_to_encoder.2Fapplication_X.3F">здесь</a>).
</p>

<a name="How_do_I_frameserve_my_AVS-file_to_encoder.2Fapplication_X.3F"></a>
<h3>Как мне загрузить мой AVS файл в кодировщик (приложение) X ?</h3>

<p>Существует простой способ для многих приложений, и сложные способы (трюки) для многих других.</p>
<a name="Direct_frameserving_to_compatible_applications"></a>
<h4>Прямая передача кадров (фреймсервинг) в совместимые приложения</h4>
<p>Просто откройте AVS файл в кодировщике (приложении) через меню, командную строку или
перетащите и бросьте AVS файл на него (работающие способы зависят от приложения).
Некоторые программы имеют &quot;AviSynth *.avs&quot; в меню &quot;Open&quot;, для
других попробуйте выбрать &quot;All files *.*&quot; или наберите имя файла AVS вместо
&quot;AVI&quot;.</p>
<p>Проигрыватели: Media Player Classic, Windows Media Player 6.4, 9 и другие.</p>
<p>Кодировщики: QuEnc, Mencoder, HC Encoder, CCE SP 2.50 и 2.66, Canopus Procoder 1.5 и
выше, MainConcept MPEG Encoder, TMPGEnc, TMPGEncXpress 3/4, Elecard Converter
Studio, xvid_encraw, FFMpeg (новые версии), Nero 6, Nero 7 (только перетащи_и_брось)
и другие.</p>
<p>Редакторы: VirtualDub, AviDemux (через его avs прокси
опцию))</p>
<p>Но некоторые приложения работают хорошо только с некоторыми специфичными форматами  видео или аудио,
смотрите следующий раздел.</p>
<a name="Direct_frameserving_to_applications_using_additional_plugins"></a>
<h4>Прямая передача кадров в приложение, используя дополнительные плагины</h4>
<ul>
  <li>Для передачи кадров в Premiere существует плагин импорта
    &quot;IM-Avisynth.prm&quot;.</li>
</ul>
<p>Оригинальная версия размещалась на <a href="http://math.berkeley.edu/~benrg/avisynth-premiere.html">сайте Бена</a>, 
смотри <a href="http://neuron2.net/www.math.berkeley.edu/benrg/avisynth-premiere.html">зеркало</a>. 
Значительно усовершенствованная версия может быть загружена со страницы <a href="http://sourceforge.net/projects/videoeditorskit/">Video
Editors Kit на sourceforge</a>. Он работает для Premiere 5.x, 6.x и Pro в настоящее время.
Версия 1.5 также работает для Premier CS3. Для установки плагина импорта, поместите файл IM-Avisynth.prm file в 
каталог Premiere &quot;Plug-ins&quot;.</p>
<a name="Direct_frameserving_to_special_or_modified_versions_of_encoders"></a>
<h4>Прямая передача кадров в специальные или модифицированные версии кодировщиков</h4>
<p>Некоторые программы изначально не могут открывать скрипты AviSynth, но обновленные или альтернативные
программы могут делать это:</p>
<ul>
  <li>Mencoder</li>
  <li>FFMpeg: версии ранее чем SVN-r6129 используют &quot;AVSredirect.dll&quot;
    для связи с Avisynth. Начиная с SVN-r6129, код AVS redirect
    интегрирован в исполняемый файл FFmpeg (как опция при компиляции). Используйте сборки на 
    <a href="http://ffdshow.faireal.net/mirror/ffmpeg/">http://ffdshow.faireal.net/mirror/ffmpeg/</a></li>
  <li>Windows Media 9 Encoder: загрузите Windows Media 9 Encoder от Nic и удостоверьтесь,
    что вы также установили Windows Media 9 кодек. Оба могут быть найдены 
    <a href="http://nic.dnsalias.com/WM9Enc.html">там</a>.</li>
</ul>
<a name="Frameserving_to_applications_via_fake_AVI_files_and_proxy_utilities"></a>
<h4>Передача кадров приложению через фальшивые AVI файлы
и прокси-утилиты</h4>
<p>Многие &quot;новые&quot; программы НЕ используют функции Windows для чтения
файлов AVI. Если они используют собственные функции чтения, то файлы скриптов AviSynth не
будут работать. Существуют утилиты, которые могут создать маленькие фальшивые файлы AVI file со специальным типом
(FOURCC), и обеспечивают соответствующие системные кодеки для &quot;декодирования&quot; этих
якобы сжатых файлов.</p>
<p>Выберите ваш AVS файл в меню утилиты, установите опции и создайте фальшивый AVI файл
с некоторым именем. Затем вы можете открыть этот фальшивый AVI в вашем приложении (кодировщике), которое
будет получать кадры от кодека, который будет получать файлы от AviSynth.</p>
<p>Несколько таких утилит различаются поддерживаемыми режимами (форматами) выходного видео
(с или без преобразования) и аудио (распакованное аудио является наиболее совместимым,
но размер файла больше), пользовательским интерфейсом (окно, командная строка) и числом ошибок.</p>
<ul>
  <li><a href="http://www.doom9.org/Soft21/SupportUtils/VFAPIConv-1.05-EN.zip">VFAPI reader codec</a>
   с DGVfapi (в качестве клиента) из <a href="http://neuron2.net/dgmpgdec/dgmpgdec.html">DGDMPGDec</a>.</li>
</ul>
<p>Особенности - вывод только RGB24, распакованое аудио, поддержка нескольких файлов, хорошая совместимость,
но несколько медленный.</p>
<ul>
  <li>MakeAVIS - включен в ffvfw и <a href="http://sourceforge.net/project/showfiles.php?group_id=173941">FFDShow</a>.</li>
</ul>
<p>Особенности - вывод в любой цветовой формат. Распакованное несжатое аудио работает правильно только
в старом ffvfw и недавнем (с 13 ноября 2007) ffdshow (только 8 и 16 бит, используйте 
<a href="corefilters/convertaudio.htm">ConvertAudioTo16bit</a> при необходимости).</p>
<ul>
  <li><a href="http://hmd.c58.ru/files.html">Proxy-codec AVS2AVI</a>. (Заметьте, что одноименная утилита Moitah и других 
    является кодировщиком, а не AVI-враппером.)</li>
</ul>
<p>Особенности - видео выход тот же, что и входной формат, без аудио.</p>
<p>Известные программы, которые не открывают скрипты AVS без этих утилит:<br>
CCE SP v2.62-2.64, Windows Media Encoder vx.x. (старее чем v9), Ulead
VideoStudio 5-11, MediaStudio 6-8, Pinnacle Studio, Sony Vegas, Nero 8,
ImageMixer и другие.</p>
<a name="Frameserving_via_pipe_from_auxiliary_program_to_application-encoders"></a>
<h4>Передача кадров через конвейер из дополнительной программы в 
приложения-кодировщики</h4>
<p><a href="http://akuvian.org/src/avisynth/avs2yuv/">Avs2YUV</a>
является программы командной строки, предназначенная для использования под Wine, для интерфейса между AviSynth
и основанных на Linux видеосредствах.</p>
<p>Программы: Mpeg2enc, Mencoder, FFMpeg.</p>
<p>avs2yuv out.avs -o - | mpeg2enc - options...</p>
<p>Этот способ устаревший, так как эти программы теперь имеют встроенную поддержку AviSynth.</p>

<a name="How_do_I_solve_problems_when_opening.2Freading_scripts_in_encoders_and_players.3F"></a>
<h3>Как мне решить проблемы с открытием (чтением) скриптов в кодировщиках и проигрывателях?</h3>
<ol>

<li>TMPGEnc не читает мой AVS файл в  (это случается в старых версиях TMPGEnc), что делать ?</li>
<ul>
<li>Установите плагин VFAPI для TMPGEnc</li>
<li>Отмените фильтры directshow в TMPGEnc и выключите прокси VirtualDub
перед передачей кадров.</li>
<li>Добавьте "<a href="corefilters/convert.htm">ConvertToRGB24</a>()" в конец Вашего AVS файла.</li>
<li>Установите <a href="http://avisynth.org/mediawiki/Huffyuv" title="Huffyuv">Huffyuv</a>
/<a href="http://www.avisynth.org/index.php?page=DivX">DivX5</a>
кодек, так чтобы он мог делать декомпрессию при загрузке AVI в
TMPGEnc.</li>
<li>Установите плагин <a href="http://www.math.berkeley.edu/~benrg/avisynth/tmpgenc-readavs.zip">ReadAVS</a> для TMPGEnc. 
        Просто скопируйте ReadAVS.dll в каталог VFAPI reader, откройте
        reg-файл ReadAVS.reg в Блокноте и измените соответствующий путь.
        Сохраните его, и дважды щелкните на нем чтобы добавить это к вашему системному реестру.</li>
</ul>
</li>
<li>CCE SP аварийно завершается при чтении AVS файла, что делать ?</li>
<ul>
<li>Если Вы используете Win2k, тогда запускайте CCE в режиме совместимости с WinNT4-SP5.</li>
<li>Если Вы не имеете аудио в AVS файле, то добавьве пустой звук. Вы можете сделать скрипт (названный
"addaudio.avsi"), как описано <a href="http://www.avisynth.org/mediawiki/AddAudio">здесь</a>,
поместить его в Вашу папку плагинов, и добавить AddAudio(44100) к вашему скрипту. </li>
<li>Некоторые версии (такие как CCE SP v2.62/v2.64) не читают AVS файлы. Используйте CCE
        SP v2.66 или более позднюю версию.</li>
</ul>
</li>
<li>Мой кодировщик или проигрыватель не открывает AVS файлы, что мне делать ?</li>
В этом случае вы можете попробовать другой способ, например AVI враппер (подстановщик), 
<a href="http://avisynth.org/mediawiki/Vfapi" title="Vfapi">vfapi</a>
        или <a href="http://avisynth.org/mediawiki/MakeAVIS" title="MakeAVIS">makeAVIS</a>.</li>
</ul>
</li>
  <li>При открытии моего клипа в кодировщике или проигрывателе, цвета испорчены, что делать?
    <ul>
      <li>Если вы имеете такие проблемы, то некоторый внешний (или внутренний кодек)
        портит используемое преобразование цветового пространства. Добавьте
        &quot;<a href="corefilters/convert.htm" title="ConvertToRGB24">ConvertToRGB24</a>&quot;
        в качестве последней строки вашего скрипта (для  Procoder и CCE используйте
        ConvertToYUY2(interlaced=true) или =false) и ознакомьтесь с веткой форума
        (и предложенными решениями) по <a href="http://forum.doom9.org/showthread.php?s=&amp;threadid=27932">ошибкам преобразования
        цветовых пространств</a>.</li>
    </ul>
  </li>
  <li>Windows Media Encoder 9 Series не открывает AVS файлы, что делать?
    <ul>
      <li>Используйте <a href="http://www.citizeninsomniac.com/WMV/#WMCmd">обновленный WMCmd.vbs скриптt</a>
        [<a href="http://forum.doom9.org/showthread.php?t=65638">обсуждение исправления</a>].</li>
    </ul>
    <ul>
      <li>Чтобы использовать AviSynth как источник с WME9, вам необходимо установить
        источник кодировщика в &quot;Both device and file&quot; в меню Session Properties,
        смотри <a href="http://forum.doom9.org/showthread.php?t=48477">обсуждение</a>
        и <a href="http://forum.doom9.org/showthread.php?t=112634">WMV faq</a>. 
        Или используйте <a href="http://nic.dnsalias.com/WM9Enc.html">Nic WMV encoder</a>.</li>
    </ul>
  </li>
  <li>WMP11 в Vista не проигрывает AVS, что делать?
    <ul>
      <li>Вы можете <a href="http://forum.doom9.org/showthread.php?t=121674">отредактировать реестр</a>
       чтобы добавить .avs как известное расширение. Скопируйте ключ реестра (и его подключи) 
        <b>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Multimedia\WMPlayer\Extensions\.avi</b>
        в <b>HKEY_LOCAL_MACHINE\SOFTWARE\Microsoft\Multimedia\WMPlayer\Extensions\.avs</b></li>
    </ul>
      Не изменяйте ничего в реестре, если у вас нет опыта!
  </li>
</ol>

<a name="How_do_I_frameserve_from_Premiere.2FUlead.2FVegas_to_AviSynth.3F"></a>
<h3>Как мне передавать кадры из&nbsp;Premiere/Ulead/Vegas в AviSynth ?</h3>
<p>Установите совместимый с AviSynth фрейм-сервер (импорта) 
[<a href="http://www.debugmode.com/frameserver/">Debugmode frameserver (by Satish Kumar)</a>, старое название PluginPac]:
 для передачи кадров от SonicFoundry Vegas (и более ранних версий Vegas Video/VideoFactory), Adobe Premiere
или Ulead MediaStudio Pro или Wax в AviSynth. [<a href="http://forum.doom9.org/showthread.php?s=&amp;threadid=51242">обсуждение</a>].
</p>
<p>|<a href="faq_sections.htm" title="AviSynth FAQ">
Содержание FAQ</a> | <a href="faq_general_info.htm">Общая 
информация</a> | <a href="faq_loading_clips.htm">Загрузка клипов</a> | <b>Открытие 
скриптов</b> | <a href="faq_common_errors.htm">Общие сообщения об 
ошибках</a> | <a href="faq_different_types_content.htm">Обработка различного 
контента</a> | <a href="faq_yv12.htm">Работа с YV12</a> | <a href="faq_using_virtualdub_plugins.htm">Обработка с
плагинами от Virtualdub</a> |</p>

<kbd>$English Date: 2008/06/29 18:02:58 $<br>
Русский перевод 19.05.2005-28.06.2008 Fizick http://avisynth.org.ru</kbd>

</body></html>