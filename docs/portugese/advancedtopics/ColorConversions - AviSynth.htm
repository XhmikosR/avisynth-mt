<!doctype html public "-//W3C//DTD HTML 4.0 Transitional//EN">
<html>
<head>
<title>AudioDub Avisynth Filter</title>
<link rel="stylesheet" type="text/css" href="../../avisynth.css">
</head>
<body>
<h2><a name="AudioDub"></a>Conversões de Cor</h2>
            <P><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Trabalho em construção.</span></P>
            <P><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Deve cobrir conversões de RGB-&gt;YUV e
            escala/preservação da faixa de luma e quando usar tal conversão.</span></P>
            <H2>Conversões de Cor</H2>
            <TABLE border=1>
              <TBODY>
              <TR>
                <TD>Coeficientes </TD>
                <TD>Rec.601 </TD>
                <TD>Rec.709 </TD>
                <TD>FCC </TD></TR>
              <TR>
                <TD>Kr : Coeficiente canal Vermelho </TD>
                <TD>0.299 </TD>
                <TD>0.2125 </TD>
                <TD>0.3 </TD></TR>
              <TR>
                <TD>Kg : Coeficiente canal Verde </TD>
                <TD>0.587 </TD>
                <TD>0.7154 </TD>
                <TD>0.59 </TD></TR>
              <TR>
                <TD>Kb : Coeficiente canal Azul </TD>
                <TD>0.114 </TD>
                <TD>0.0721 </TD>
                <TD>0.11 </TD></TR></TBODY></TABLE>
            <P>(0.0 &lt;= [Y,R,G,B] &lt;= 1.0) ; (-1.0 &lt; [U,V] &lt; 1.0)</P>
            <P>Kg = 1 - Kr - Kb</P>
            <P>Y = Kr*R + Kg*G + Kb*B</P>
            <P>V = (R - Y)/(1-Kr) = R - G * Kg/(1-Kr) - B * Kb/(1-Kr)</P>
            <P>U = (B - Y)/(1-Kb) = - R * Kr/(1-Kb) - G * Kg/(1-Kb) + B</P>
            <P>R = Y + V*(1-Kr)</P>
            <P>G = Y - U*(1-Kb)*Kb/Kg - V*(1-Kr)*Kr/Kg</P>
            <P>B = Y + U*(1-Kb)</P>
<H3>Conversão para valores de programação&nbsp;</H3>
            <P><STRONG>YUV [0,255] &lt;-&gt; RGB [0,255]</STRONG> (0 &lt;= 
            [r,g,b] &lt;= 255, 0 &lt;= y &lt;= 255, 0 &lt; [u,v] &lt; 255)</P>
            <P>y = Y * 255</P>
            <P>v = V * 127.5 + 128</P>
            <P>u = U * 127.5 + 128</P>
            <P>r = R * 255</P>
            <P>g = G * 255</P>
            <P>b = B * 255</P>
            <P><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Substituindo (Y,V,U,R,G,B) nas equações acima e
            multiplicando com 127.5 e respectivamente 255 dão</span></P>
            <P>y = Kr*r + Kg*g + Kb*b</P>
            <P>v - 128 = 0.5*(r - y)/(1-Kr) = 0.5 * r - 0.5 * g * Kg/(1-Kr) - 
            0.5 * b * Kb/(1-Kr)</P>
            <P>u - 128 = 0.5*(b - y)/(1-Kb) = - 0.5 * r * Kr/(1-Kb) - 0.5 * g * 
            Kg/(1-Kb) + 0.5 * b</P>
            <P>r = y + 2*(v-128)*(1-Kr)</P>
            <P>g = y - 2*(u-128)*(1-Kb)*Kb/Kg - 2*(v-128)*(1-Kr)*Kr/Kg</P>
            <P>b = y + 2*(u-128)*(1-Kb)</P>
            <P><STRONG>YUV [16,235] &lt;-&gt; RGB [0,255]</STRONG> (0 &lt;= 
            [r,g,b] &lt;= 255, 16 &lt;= y &lt;= 235, 16 &lt;= [u,v] &lt;= 
            240)</P>
            <P>y = Y * 219 + 16</P>
            <P>u = U * 224 + 128</P>
            <P>v = V * 224 + 128</P>
            <P>r = R * 255</P>
            <P>g = G * 255</P>
            <P>b = B * 255</P>
            <H2>Referências:</H2>
            <P><A 
            href="http://www.poynton.com/notes/colour_and_gamma/ColorFAQ.html">http://www.poynton.com/notes/colour_and_gamma/ColorFAQ.html</A></P>
            <P>ITU BT.601 ...</P>
            <P>ITU BT.709 ...</P>
      
    
<p><kbd>$Date: 2006/03/26 18:11:19 $ Portuguese translation by RoLon</kbd></p>
<FORM>
<INPUT TYPE="Button" VALUE="Back"
onClick="history.go(-1)">
</form>
</body>
</html>
