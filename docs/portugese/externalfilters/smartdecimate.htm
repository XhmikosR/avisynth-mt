<html>
<head>
<title>SmartDecimate</title>
<link rel="stylesheet" type="text/css" href="../../avisynth.css">
<!--
Automatically generated, don't change:
$Id: smartdecimate.htm,v 1.1 2006/03/26 18:11:54 wilbertd Exp $
-->
</head>
<body>
<h1>SmartDecimate</h1>
<h2>Abstrato</h2>
<b>autor:</b>   SmartDecimate por Kevin Atkinson<br>
<b>versão:</b>       v0.23 (C plugin, para ser carregado com LoadCPlugin)<br>
<b>dowload:</b> <a href="http://www.avisynth.org/warpenterprises/">http://www.avisynth.org/warpenterprises/</a>
<br><b>categoria:</b>    <span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Remoção de Desentrelaçamento &amp; Pulldown</span>&nbsp;
<br><b><span style="font-size:10.0pt;mso-bidi-font-size:
12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">requisitos</span>:</b> YV12 &amp;&nbsp; YUY2 Colorspace
<hr>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA"><font color="#660033">Smart Decimate</font>
remove o telecine combinando campos de telecine e dizimando ao mesmo tempo, que
é diferente da aproximação tradicional de igualar quadros de telecine e então
removendo duplicatas. A mais recente versão do &quot;Smart Decimate&quot; pode
ser achado em</span> <a
href="http://kevin.atkinson.dhs.org/tel/"
>http://kevin.atkinson.dhs.org/tel/</a>.

<h2>Tabela de Conteúdos
</h2>
<ul>
<li><a href="#usage">Uso Básico&nbsp;</a>
<li><a href="#guide">Guia para o Uso</a>
<li><a href="#ref">Referência de Filtro&nbsp;</a>
<li><a href="#works">Entendendo como SmartDecimate Trabalha</a>
<li><a href="#t_max">Afinando o T_Max</a>
<li><a href="#deinterlace">Usando um Pós Desentrelaçador</a>
<li><a href="#decomb"> Decimate inteligente vs Decomb</a>
<li><a href="#other">Outras Coisas para Tentar com Smart Decimate</a>
<li><a href="#caveats">Avisos</a>
<li><a href="#compile">Compilando</a>
<li><a href="#final">Palavras Finais&nbsp;</a>
<li><a href="#chage">Log de Mudanças</a>
</ul>

<a name="usage"><h2>Uso Básico&nbsp;</h2></a>

<pre>LoadPlugin(&quot;...\avisynth_c.dll&quot;)
LoadCPlugin(&quot;...\SmartDecimate.dll&quot;)
AssumeTFF() # ou AssumeBFF()
SmartDecimate()</pre>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Note que o segundo plugin é LoadCPlugin e não
LoadPlugin. (Tem um C depois de Load)</span>
<p>
<b><span style="font-size:10.0pt;mso-bidi-font-size:
12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">É MUITO IMPORTANTE QUE A ORDEM DE CAMPO SEJA
CORRETA.</span></b> 

<a name="guide"><h2>Guia para o Uso</h2></a>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Para este guia assumirei que seu material é
pulldown 3:2 com algum possível vídeo misturado dentro. Porém, SmartDecimate
pode controlar alguma relação de dizimação fixa.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Para usar este filtro, você tem que primeiro
determinar a ordem de campo correta. Se a ordem de campo estiver errada, meu
filtro não trabalhará corretamente. Para determinar a ordem de campo:</span>
<pre>AviSource(...)
AssumeTFF()
Bob()</pre>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Agora preveja o vídeo e procure movimento para
trás. Se não ver, então você deve usar &quot;assumetff()&quot;.&nbsp; Se vê
algum, tente:</span>
<pre>AviSource(...)
AssumeBFF()
Bob()</pre>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">E mais uma vez procure movimento para trás. Se não
vê nenhum desta vez, você deve usar &quot;assumebff()&quot;</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Agora é hora de montar meu filtro:</span>
<pre>LoadPlugin(&quot;...\avisynth_c.dll&quot;)
LoadCPlugin(&quot;...\smartdecimate.dll&quot;) <span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA"># note o C em loadCplugin</span>
AviSource(...)
AssumeTFF() <span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA"># ou AssumeBFF() como determinado acima</span>
SmartDecimate()</pre>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Se você estiver satisfeito com o resultado, então
isso é tudo que é necessário. Se não, prossiga lendo.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Se seu material for anime com muitos quadros
repetidos, então você deve tentar:</span>
<pre>SmartDecimate(tel=0.60)</pre>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Isto deve evitar qualquer subir e descer (tremer)
em seqüências longas sem movimento.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">O valor &quot;tel&quot; controla a agressividade
do filtro ao comparar os campos. O valor padrão é 0.50.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Se você tiver um vídeo misturado com uma grande
quantia de vídeo verdadeiro, então você pode abaixar &quot;tel&quot; para
baixo tanto quanto 0.25. Isto arriscará o subir e descer (tremer) alguns
quadros progressivos, mas não deve entrelaçar verdadeiros quadros de vídeo
que podem deixar artefatos pentes.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Se você tem um vídeo de puro pulldown 3:2 com
muitos poucos quadros de vídeo verdadeiro, então pode tentar aumentar
&quot;tel&quot;<span style="mso-spacerun: yes">&nbsp; </span>para 0.75. Isto fará
SmartDecimate ser realmente agressivo ao comparar campos progressivos. Porém,
acabará deixando para trás sérios artefatos pentes se houver qualquer vídeo
puro no clipe.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Se tiver um vídeo realmente ruidoso, então vai
precisar elevar o fator de ruído como:</span>
<pre>SmartDecimate(noise=0.80)</pre>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">O valor padrão é 0.50. Deixe em padrão a menos
que seu clipe seja muito ruidoso. Valores mais altos de ruídos freqüentemente
deixarão por trás mais artefatos pentes para quadros de vídeo puros.</span> 
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Se você tem um clipe realmente limpo e nota
alguns artefatos pentes em quadros de vídeo puros, então pode abaixar o fator
de ruído. Mas cuidado: se for muito baixo, SmartDecimate não poderá comparar
os campos progressivos e assim poderá tremê-los.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Finalmente, se você tem um vídeo híbrido
(pulldown 3:2 misturado e verdadeiro vídeo), deve considerar substituir o estúpido
&quot;bob&quot; com algo como DgBob ou SmoothDeinterlace. Para fazer isso, use a
opção &quot;bob&quot;. Por exemplo:</span>
<pre>SmartDecimate(bob=DgBob(...))</pre>

<a name="ref"><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Isto melhorará grandemente a qualidade dos
quadros de vídeo puros. Note que a fonte do &quot;bob&quot; só afeta os
quadros renderizados. Não é usado para comparar campos. Nem é usado por
qualquer outra parte de SmartDecimate.</span><h2>Referência de Filtro&nbsp;</h2></a>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">O filtro trabalhará com entradas YUY2 ou YV12.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">O uso é:</span>
<p><code>SmartDecimate</code> (<var>[numr, denm], options</var>)</p>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">O numerador e o denominador são para a relação
de dizimação para o vídeo <b>depois</b> de separado em campos. O padrão é
24 e 60 respectivamente para <var>numr</var> e <i>denm</i>.</span>

<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">As opções seguintes podem ser usadas para
direcionar <font color="#660033">SmartDecimate</font>:</span><p style="margin-top: 0; margin-bottom: 0">
<var>bob&nbsp;</var><p style="margin-top: 0; margin-bottom: 0"><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">uma fonte alternativa de quadros desentrelaçados
por &quot;bob&quot;. O padrão é &quot;<a href="../../../../../Documents%20and%20Settings/Rotildo%20Longo/corefilters/bob.htm">Bob</a>()&quot;
<span style="mso-spacerun: yes">&nbsp;</span>que é filtro &quot;bob&quot;
interno bobo AviSynths. Para resultados melhores, use um &quot;bob&quot;
inteligente como <a href="../../../../../Documents%20and%20Settings/Rotildo%20Longo/Meus%20documentos/dgbob.htm">DgBob</a>
ou SmoothDeinterlace. As fontes &quot;bob&quot; sãos usadas sempre que
SmartDecimate determina que um campo não é parte de um quadro progressivo.</span><p>
<var>weave<br>
</var><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">uma fonte alternativa de quadros entrelaçados</span>.
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">O padrão é</span> &quot;<a href="../corefilters/doubleweave.htm">DoubleWeave</a>()&quot;.
<p>
<var>tel<br>
</var><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">um número entre 0 e 1 que controla a
agressividade do filtro ao comparar campos. 0.50 (padrão) trabalhará bem com a
maioria dos clipes. Quanto mais alto o valor, maior o risco de deixar artefatos
pentes em material entrelaçado verdadeiro. Quanto baixo o valor, maior o risco
para tremer (ou em caso extremo saltar ou duplicar) quadros de Telecine.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Atualmente <var>tel </var>pina várias opções
internas que dependem ao qual é fixado, mas há inversores para: 0.45, 0.55,
0.65 e 0.72.</span>
<p>
<var>noise<br>
</var><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">O fator de ruído. O valor padrão, 0.50, deve
trabalhar na maioria dos casos.</span>
<p><var>t_max<br>
</var><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Um método alternado de fixar o fator de ruído.
Você precisa entender como meu filtro trabalha para usar.</span></p>
<p><var>cpu<br>
</var><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Força a CPU a um tipo particular. Normalmente é
auto detectado. Para ver se é detectado corretamente &quot;turn logging
on&quot;. A primeira linha da saída exibirá o tipo de CPU. Valores válidos
atuais para este valor são: 0 - Genérico, 2 - Inteiro SSE, 3 - SSE, 4 - SSE2.</span></p>
<p><var>unaligned<br>
</var><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Permite leitura de dados não alinhados.
Normalmente SmartDecimate pode ignorar alguns píxeis no início ou fim de cada
linha, de forma que as leituras sejam bem alinhadas. Fixando este valor em true
previne isso.</span></p>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">As opções seguintes podem ser usadas para
controlar a impressão de informação útil:</span>
<p style="margin-top: 0; margin-bottom: 0">
&nbsp;
<p style="margin-top: 0; margin-bottom: 0">
<var>log_level</var>
<p style="margin-top: 0; margin-bottom: 0">
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">A verbosidade da informação imprimida. O padrão
é 2.</span>
<p>
<var>log_file<br>
</var><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Se fixo, toda a saída irá ao arquivo
especificado.</span>
<p>
<var>console<br>
</var><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Se fixo em true, então uma janela de console
aparecerá e toda a saída será enviada a ela.</span>
<p>
<var>debug_print<br>
</var><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Se fixo, então toda a produção que usa a
chamada de sistema OutputDebugString será impressa. Você pode ver essa saída
com um utilitário como DebugView.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">O significado da informação imprimida é como
segue:</span>
<ul>
  <li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">&quot;Reseting to NUM&quot; significa que as variáveis
    internas são reajustadas e qualquer padrão é reajustado. Isto acontecerá
    sempre que o vídeo é acessado de um modo não linear.</span></li>
  <li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">&quot;FRAME 3 = [3, 4]&quot; indica como o quadro
    número 3 (por exemplo) está sendo renderizado. Aqui 3 indica o campo da
    fonte primária que é escolhida. Se o quadro for renderizado entrelaçando
    dois campos juntos, os números em [ ] indicam quais campos de fonte são
    escolhidos. Se o quadro for desentrelaçado &quot;bob&quot; os em [ ] serão
    ao invés &quot;BOB&quot;.</span></li>
  <li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">&quot;Diff NUM: WHAT DIFF&quot; indica a diferença
    entre o campo de fonte NUM e NUM+1. QUE é a classificação da diferença
    com 0 significando o mesmo, 1 semelhante e 2 diferente. DIFF é a diferença
    numérica.</span></li>
</ul>

<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">As opções seguintes podem ser usadas para
afinar parâmetros internos. Para entender o que eles fazem, você precisará
olhar para a fonte. Eles podem ser mudados entre os lançamentos.</span>
<ul>
  <li>max_last_set - inteiro positivo
  <li>t1_def, t2_def, t1_max, t2_max - flutuante entre 0.0 e 1.0
  <li>floor - flutuante entre&nbsp; 0.0 e 1.0
  <li>floor_adj = flutuante maior que 0.0
  <li>sml_peak, lrg_peak - flutuante mais largo que 1.0
  <li>sml_tail_diff, lrg_tail_diff - flutuante mais largo que 0.0
</ul>

<a name="works"><h2>Entendendo como o SmartDecimate Trabalha</h2></a>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Esta discussão assume que o leitor está
familiarizado com vídeo entrelaçado e sabe o significado de tais condições
como quadro, campo, campo de topo, campo de fundo, BFF, TFF, telecide, telecine,
pulldown 3:2, etc</span>..
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Outros filtros telecide geralmente removem
telecine em um processo de dois passos. Os primeiros campos de telecine são
comparados, mas a taxa de quadro não é mudada, então quadros duplicados são
retirados. SmartDecimate não trabalha deste modo. SmartDecimate ao invés,
combina campos de telecine e dizima a taxa de quadro ao mesmo tempo.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">A mesma primeira coisa que SmartDecimate faz é
usar &quot;SeparateFields()&quot;, que dividirá o vídeo em campos individuais
que também dobrarão a taxa de quadro. Então o campo número 9 realmente é o
campo de fundo do quadro 4 (assume que o vídeo é TFF) antes de separá-lo em
campos. Para simplicidade, eu vou me referir sempre deste modo aos campos do vídeo
fonte.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">SmartDecimate seleciona campos então em um padrão
regular, tentando evitar selecionar campos duplicados. Mais precisamente, deixa
N ser o número de quadro do destino e R ser a relação que para pulldown 3:2
será 24/60 = 2/5, então SmartDecimate escolhe entre floor(N/R de campo) e
floor(N/R) + 1. Por exemplo, para quadro de destino número 5, usando pulldown
3:2 típico, SmartDecimate vai escolher o campo 12 ou 13. Qual escolhe é bem
complicado e algo que eu não terei aqui.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Depois que um campo fonte for escolhido, precisa
decidir como renderizar. SmartDecimate escolhe entre: 1) comparando com o campo
prévio, 2) comparando com o próximo campo, ou 3) com desentrelaçamento bob.
Como escolher é baseado na semelhança com o campo prévio ou com o próximo
campo. Se o campo é igual ao prévio ou ao próximo campo, comparará com
aquele campo entrelaçando os dois campos. Se não puder achar um campo igual,
desentrelaça o campo atual com &quot;bob&quot;. SmartDecimate realmente não
faz a renderização final. Ao invés usa o filtro &quot;anther&quot; do
AviSynth para fazer este trabalho. No caso de entrelaçar, usará DoubleWeave()
e no caso de &quot;tremer&quot;, usará Bob() ou um filtro &quot;bob&quot;
inteligente se houver.</span>

<a name="t_max"><h2>Afinando T_Max</h2></a>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Para descobrir quais campos são diferentes e
quais são iguais, SmartDecimate procura picos em diferença de string. São
determinados três valores que representam a diferença entre quatro campos
sucessivos A B C D, se AC (i.e. a diferença entre B e C) &gt; AB e BC &gt; CD e
AB e CD são próximos em valor com os campos A e B, provável que sejam os
mesmos, campos B e C provável que sejam diferentes e campos C e D provável que
sejam os mesmos.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Porém, este método não é perfeito e às vezes
pode classificar cenas de grande movimento quando valores de diferença
semelhantes entre quadros (que AB e CD são os semelhantes) como sendo o mesmo.
Assim, para controlar isso, SmartDecimate simplesmente assume todos os campos
com uma diferença maior que um percentual <span style="mso-spacerun:
yes">&nbsp;</span>fixo não pode ser possivelmente o mesmo. Infelizmente não há
nenhum ótimo valor por este percentual, assim é fixo um valor razoável que
deve ser bom para a maioria dos clipes que não sejam extremamente ruidosos. Porém,
este valor geralmente deixará alguns campos diferentes pelo qual conduzirá a
artefatos pentes. Para evitar isto, o percentual &quot;t_max&quot;, deve ser
fixado o mais baixo possível.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Para descobrir qual o melhor valor para
&quot;t_max&quot; para um clipe em particular, você precisará saber quais as
diferenças entre os quadros. O modo mais fácil para fazer isto é fixar a opção
&quot;log_file &quot; (com o nível de log em 2 ou mais alto) e rodar
SmartDecimate em uma boa porção do clipe. Uma vez feito, você deve ver algo
como o seguinte no arquivo log:</span>
<pre>...
Diff 827: 0 6.11586e-008
FRAME 331 = [828,827]
Diff 828: 2 8.21554e-005
Diff 829: 0 3.69098e-008
Diff 830: 0 3.27322e-008
FRAME 332 = [830,831]
Diff 831: 2 0.000124936
Diff 832: 0 6.48069e-008
FRAME 333 = [832,833]
Diff 833: 2 0.000102379
Diff 834: 0 3.54472e-008
...</pre>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">As linhas que você está interessado são as que
começam com &quot;Diff....&quot;.<span style="mso-spacerun: yes">&nbsp; </span>O
primeiro número depois de Diff é o número do campo fonte. O segundo número
é a classificação da diferença, com 0 significando o mesmo, 1 semelhante e 2
diferente. O número final é a diferença atual. O que você está interessado
é a diferença de quadros classificada como a mesma. Você quer fixar t_max
para ligeiramente acima do valor máximo de todas as diferenças classificadas
como as mesmas. Para este clipe 7.0e-8 pode ser um bom valor. Mas desde que eu só
olhei uma pequena porção do clipe, ele pode precisar ser mais alto, porque as
diferenças podem variar a uma quantia grande. É melhor olhar o valor por várias
áreas diferentes do clipe para ter um valor seguro. Assumindo que 7.0e-8 é um
valor bom eu posso usar isto:</span>
<pre>SmartDecimate(t_max=0.000000070)</pre>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Eu escrevi 0.000000070 em vez de 7.0e-8 porque
AviSynth parece não suportar notação científica. Para estar seguro que
converteu o número corretamente, fixe o nível de log para 3 ou mais alto e
procure uma linha assim:</span>
<pre>t1_max = 7.00000e-008  t2_max = 2.10000e-007  max_last_set = 13</pre>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">O valor que você interessa é t1_max é 7e-8.
Assim, converti o número corretamente. Os outros valores são para outros
percentuais internos.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Uma vez que você pensa ter achado um bom valor
para t_max, rode de novo seu clipe, apesar de SmartDecimate ter um log de nível
fixo em 3 ou mais alto, para ter certeza que não o fixou muito baixo. Se você
o fixa baixo, um número excessivo de quadros fica tremido (bobbed) e você verá
mensagens como:</span>
<pre>2001: T1 Maxed Out at 2.00000e-008</pre>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Estas mensagens são normais para as verdadeiras
partes do vídeo, mas não devem ser vistas nas partes de telecine do clipe. Se
você os ver, significa que t_max é muito pequeno e precisa ser elevado. O
valor exato pode ser descoberto olhando as diferenças dos quadros em volta. Por
exemplo:</span>
<pre>...
Diff 1999: 2 3.08506e-008
Diff 2000: 1 4.03734e-008
Diff 2001: 2 8.89810e-006
Diff 2002: 1 2.93221e-008
...</pre>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">indica que t_max deve ser pelo menos 4.04e-8, mas
4.5e-8 é um valor mais seguro.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Finalmente, note que &quot;t_max&quot; e
&quot;noise&quot; controlam o mesmo parâmetro interno que é
&quot;t1_max&quot;. Eles apenas fazem isso de modo diferente. &quot;t_max&quot;
fixa-o diretamente enquanto &quot;noise&quot; fixa indiretamente, baseado em uma
fórmula exponencial. Como no SmartDecimate 0.21 esta fórmula é:</span>
<pre>t1_max = exp(17.65*noise - 20.71)</pre>
<p>

<a name="deinterlace"><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA"><font color="#000000">Mas os parâmetros exatos
podem mudar entre os lançamentos. A idéia é que um valor &quot;noise&quot; de
0.50 (padrão) deve trabalhar bem com a maioria dos clipes enquanto que 0.80
pode ser usado em clipes realmente ruidosos, etc.</font></span></p>
<h2>Como Usar um Pós Desentrelaçador</h2></a>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Idealmente, os campos renderizados por
SmartDecimate não precisariam ser desentrelaçados se os parâmetros são
afinados corretamente. Realisticamente, um pós desentrelaçador poderia ser útil.
Porém, desde que SmartDecimate trabalha em campo em lugar de nível de quadro,
há algumas coisas para estar atento.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">A maioria dos desentrelaçadores trabalha sempre
escolhendo o campo do topo (ou talvez do fundo) como o campo de domínio e
seletivamente jogando a informação no outro campo e então interpolando ou
misturando. Para 30 fps normal <span style="mso-spacerun: yes">&nbsp;</span>(ou
25 fps PAL) esta é a coisa correta a fazer. Porém, para a saída de
SmartDecimate, isto não é correto porque o campo dominante não é sempre o
mesmo. Dependerá em qual campo SmartDecimate escolhe originalmente do vídeo de
fonte e pode ser o campo de topo ou de fundo. Assim, um desentrelaçador
tradicional pode jogar o campo errado. Isto pode nem mesmo ser notado, mas você
deve estar atento.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Autores de filtros desentrelaçadores podem
corrigir este problema prestando atenção à paridade do quadro. SmartDecimate
sempre informará a paridade do campo original escolhida como a paridade do
quadro final renderizado. Se a paridade for true, então o campo de topo deve
ser escolhido. Se é false, o campo de fundo. Também estarei disposto a passar
sugestões para o desentrelaçador indicar quais campos estão tremidos se alguém
me falar como.</span>

<a name="motion"><h2>Relacionamento com Movimentos Indesejáveis</h2></a>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Usando a opção <var>weave</var>, você pode
usar clipes diferentes para a entrada e saída. Isto é útil para lidar com
subtítulos ou outro movimento que você não quer considerar ao comparar
quadros. Por exemplo, ao aparar subtítulos você pode tentar.</span>
<pre>b = Bob()
w = DoubleWeave()
CropBottom(64)
SmartDecimate(bob = b, weave = w)</pre>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Então, o vídeo produzido não será aparado,
mas as últimas 64 linhas não serão vistas por SmartDecimate. Se você usar
este método, a fonte &quot;bob&quot; também deve ser especificada. Se você não
especificar, então tentará usar o clipe de entrada para &quot;Bob()&quot;. <span style="mso-spacerun: yes">&nbsp;</span>Mas
o clipe resultante não terá as mesmas dimensões como a fonte <i><font color="#660033">weave</font></i>.</span> 

<a name="decomb"><h2> Decimate inteligente vs Decomb</h2></a>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Antes de <a href="http://neuron2.net/decomb/decombnew.html"><cite><span style="text-decoration:
none;text-underline:none">Decomb 5</span></cite></a> de Donald Graft (aka
Neuron2), os filtros telecine tradicionais (que trabalham comparando primeiro os
campos de telecine e dizimando e removendo quadros duplicados) teve uma tendência
em duplicar quadros. Com Decomb 5 parece que Donald resolveu o problema. Não
obstante, a aproximação SmartDecimate tem várias vantagens sobre aproximação
Decomb e vice-versa. Então nenhum dos dois é necessariamente melhor que o
outro. Qual o filtro que você deve usar, depende da fonte do material e a taxa
de quadro designada.</span>
<p>
<h3>Material de Pulldown 3:2 Limpo</h3>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Ambos Smart Decimate e Decomb trabalham bem.
Decomb ainda pode deixar algumas duplicatas de quadros para material de pulldown
3:2 altamente irregular. Smart Decimate por outro lado, pela forma de trabalhar,
geralmente não, mas pode acabar tremendo alguns quadros, o que não deveria. Em
meus testes informais Smart Decimate é ligeiramente mais rápido que Decomb
quando o seu pós processamento é desativado. Com o pós processamento Smart
Decimate é muito mais rápido.</span>
<p>&nbsp;</p>
<h3>Vídeo Pulldown e Entrelaçado Híbrido 3:2&nbsp;</h3>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Se por qualquer razão você desejar deixar o vídeo
com 30 fps, então use Decomb. Smart Decimate poderá comparar quadros de
telecine ao ir de 60 - &gt; 30 fps mas também duplicará quadros. Decomb tem um
modo especial para lidar com isto velando quadros, que podem dar movimento mais
suave.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Se sua taxa de quadros designada for 24 fps, então
a escolha fica baseada ao gosto pessoal, pois ambos, Smart Decimate e Decomb
controlam a situação completamente diferente e com resultados muito
diferentes.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Smart Decimate controlará o vídeo selecionando
quadros de uma fonte tremida (duas vezes a taxa de quadro) em um padrão 3:2.
Quer dizer, vai de 60 - &gt; 24 fps. Isto conduz a movimento bastante suave sem
ter que recorrer a toldar quadros juntos. Porém, o vídeo ainda é ligeiramente
sacudido. Em minha experiência, o sacudido leve não é geralmente perceptível
exceto quando há texto rolando. Por exemplo, ao dizimar rolando créditos, os
resultados são terríveis. Desde que quadros tremidos são usados, você também
terá alguns artefatos tremidos. Os resultados não serão muito bons a menos
que um &quot;bob&quot; inteligente seja usado.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Por outro lado, Decomb tentará dizimar o vídeo
verdadeiro indo de uma fonte 30 fps desentrelaçada para 24 fps. Faz de dois
modos. A primeira coisa que pode fazer é tirar um de cada 5 quadros. Esta
aproximação levará a resultados extremamente aos trancos. A outra coisa que
pode fazer é misturar os quadros. Esta aproximação conduzirá a vídeo mais
suave que a aproximação Smart Decimate, mas com artefatos indesejáveis. Áreas
móveis da imagem geralmente serão borradas. Com muito movimento, pode aparecer
imagens duplas que pode ser difícil seguir o movimento. Quadros borrados também
afetam negativamente a compressão porque faz o movimento mais difícil.</span>
<p>
<h3>Híbrido Progressivo com 30 fps</h3>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Se o vídeo tiver uma quantia decente de
verdadeiro material progressivo 30 fps, então é melhor com Decomb. Pela
natureza do meu filtro trabalhar, tirará um quadro a cada 5 ao converter a 24
fps.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Decomb por outro lado, vê vídeo entrelaçado e
progressivo 30 fps como a mesma coisa e poderá assim velar quadros para
suavizar movimentos. Se o clipe é principalmente vídeo progressivo 30 fps com
um pulldown 3:2, Decomb também pode manter em 30 fps e misturar o material
pulldown com melhores resultados.</span>
<p>
<h3>Padrões de Telecine Diferentes&nbsp;</h3>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Se seu padrão de telecine não é pulldown 3:2
(ou 25 fps progressivo no caso de PAL) e você quer tentar restabelecer à sua
taxa de quadros original, deve tentar ambos Smart Decimate ou Decomb e ver qual
trabalha melhor. Eu não tenho nenhuma experiência nesta área, assim eu
realmente não sei.</span>
<p>
<a name="other"><h2>Outras Coisas para Tentar como Smart Decimate</h2></a>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Aqui estão algumas outras coisas que você pode
tentar com Smart Decimate, que não podem ser feitas com telecine tradicional
como filtros Decomb.</span>

<h3>Bob Melhor de Material de Telecine</h3>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Se seu material contém materiais de telecine e
você quer desentrelaçar tremidos para obter 60 fps deve tentar:</span>
<pre>SmartDecimate(1,1, tel=0.25, bob=DgBob(...))</pre>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">que conduzirá a melhores resultados que usando só
DgBob (ou mais outros filtros &quot;bob&quot; inteligentes), desde que os
quadros de telecine são duplicados em lugar de desentrelaçados tremidos. Isto
pode fazer uma grande diferença com anime.</span>
<p>
<h3>Lidando com Telecine com Quadros Borrados</h3>

<a name="caveats"><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA"><font color="#000000">Se você estiver lidando
com muitos quadros borrados, aqui há algo a tentar. Use SmartDecimate(1,1) e
tente escolher os quadros não borrados e que sejam duplicados, pelo menos uma
vez. Você pode fazer o passo posterior com Dizime() do pacote Decomb ou</font> <a href="http://neuron2.net/multidecimate/multidecimate.html">MultiDecimate</a><font color="#000000">.
Eu não tenho idéia se isto trabalhará bem e também nunca tentei, mas eu
mencionaria isso caso alguém tenha interesse.</font></span><h2>Avisos&nbsp;</h2>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Quando a otimização de MMX/SSE é usada
SmartDecimate pode ignorar até 6 (14 para SSE2) píxeis no início ou fim de
cada linha, de forma que as leituras de memória fiquem alinhadas. Se isso lhe
aborrece, então fixe &quot;unaligned&quot; para true, que forçará
SmartDecimate a usar o código não otimizado ao ler dados de quadro.</span>
<p>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">SmartDecimate advertirá sobre quaisquer píxeis
ignorados se o nível &quot;logging&quot; for fixo a nível 0 ou mais alto.</span>

<a name="compile"><h2>Compilando</h2></a>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Para compilar SmartDecimate você precisará
instalar Gcc e Nasm e talvez GNU Make. Eu usei <a href="http://www.mingw.org/">MinGW</a>
(2.0.0-3) com MSYS 1.09, Gcc 3.3.1, e <a href="http://nasm.sourceforge.net/">Nasm</a>
0.98.37. Com exceção de Nasm, todas as utilidades exigidas podem ser achadas
na página <a href="http://www.mingw.org/download.shtml">MinGW Download</a>.
Outras configurações devem trabalhar, mas você vai precisar editar o
Makefile. Uma vez que todas as ferramentas adequadas estão instaladas e no
caminho, simplesmente digite:</span>
<pre>make</pre>
<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">da interface MSYS e isso é tudo o que é
requerido.</span>

<a name="final"> <h2>Palavras Finais</h2></a>

<span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Avaliação mais que apreciada. Por favor envie a
kevin.tel no atkinson.dhs.org.</span>

<a name="chage"><h2>Log das Mudanças</h2></a>

<p><b>0.23 (16 de Setembro de 2003)</b></p>
<ul>
<li>Bug consertado.
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Melhorado ligeiramente o campo que compara
  algoritmo.</span>
</ul>

<p><b>0.22 (12 de Setembro de 2003)</b></p>
<ul>
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Bugs consertados</span>.
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Consertados os tipos na documentação graças ao
  Tom Daniel.</span>
</ul>

<p><b>0.21 (7 de Setembro de 2003)</b></p>
<ul>
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Documentação grandemente ampliada para dar aos
  usuários uma melhor idéia de como o SmartDecimate trabalha e como usar seu
  potencial máximo.</span>
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">O tipo da CPU é agora auto detectada. Suporte ao
  SSE2 também é dado.</span>
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Bugs consertados, especialmente ao trabalhar com
  dados desalinhados.</span>
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Não ignora mais o último par de linhas (em
  alguns casos 11) de cada quadro.</span>
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Agora usa DoubleWeave() para renderizar quadros
  entrelaçados em vez de ele mesmo fazer isso.</span>
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Ao passar pelo vídeo, pode-se agora voltar atrás
  60 quadros ou mais sem causar reajuste do padrão.</span>
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Outras mudanças secundárias.</span>
</ul>

<p><b>0.20 (29 de Agosto de 2003)</b></p>
<ul>
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Documentação expandida com um pequeno guia para
  usar SmartDecimate.</span>
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Usa um campo melhorado que compara algoritmo.</span>
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Conserto do bug na versão não aperfeiçoada ao
  lidar com entradas yv12.</span>
</ul>

<p><b>0.12 (22&nbsp; de Agosto de 2003)</b></p>
<ul>
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Agora pode controlar a saída que ia para o
  console nas versões anteriores.</span>
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Agora pode modificar alguns parâmetros internos.</span>
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Uma versão SSE aperfeiçoada é fornecida agora.</span>
</ul>

<p><b>0.11 (18 de Agosto de 2003)</b></p>
<ul>
<li><span style="font-size:10.0pt;mso-bidi-font-size:12.0pt;
font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:PT-BR;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Algoritmo de classificação grandemente
  melhorado.</span>
</ul>

<p><b>0.10 (16 de Agosto de 2003)</b></p>
<ul>
<li><span lang="EN-US" style="font-size:10.0pt;mso-bidi-font-size:
12.0pt;font-family:&quot;Microsoft Sans Serif&quot;;mso-fareast-font-family:&quot;Times New Roman&quot;;
mso-bidi-font-family:&quot;Times New Roman&quot;;mso-ansi-language:EN-US;mso-fareast-language:
PT-BR;mso-bidi-language:AR-SA">Lançamento inicial</span>
</ul>

<p><kbd>$Date: 2006/03/26 18:11:54 $ Portuguese translation by RoLon</kbd></p>

</body>
</html>
