<!doctype html public "-//w3c//dtd html 4.0 transitional//en">
<html>
<head>
   <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
   <title>Tone フィルタ</title>
   <link rel="stylesheet" type="text/css" href="../../avisynth.css">
   <link rel="stylesheet" type="text/css" href="../ja.css">
</head>
<body>
<h2>
<a href="#Tone" name="Tone"></a>Tone</h2>
<p><code>Tone </code>(<var>float &quot;length&quot;, float
&quot;frequency&quot;, int &quot;samplerate&quot;, int &quot;channels&quot;,
string &quot;type&quot;, float &quot;level&quot;</var>)</p>

<p>このフィルタは、任意の周波数（<var>frequency</var>）の音（波形）を任意の長さ（<var>length</var>）（秒単位）の分だけ生成します。<var>Type</var> は、&quot;Silence&quot;、&quot;Sine&quot;（デフォルト）、 &quot;Noise&quot;、&quot;Square&quot;、&quot;Triangle&quot;、&quot;Sawtooth&quot; のいずれかの値を取ることができます。<var>level</var> は、波形の振幅です（level=1.0 が最大）。</p>

<p>デフォルトは、Tone(10.0, 440, 48000, 2, &quot;sine&quot;, 1.0) です。</p>

<table border="1" width="50%">
  <tr>
    <td width="100%" align="center"><img border="0" src="../pictures/corefilters/tone.jpg" width="480" height="360"></td>
  </tr>
  <tr>
    <td width="100%" align="center">Tone(frequency=2, samplerate= 48000,
      channels= 2, type= &quot;sine&quot;, level=0.4)</td>
  </tr>
</table>

<p>上の図では、（24fps のグレーのクリップ上に）正弦曲線<a href="#footnote_1" class="footnote_link">*1</a>が生成されています。波形の周期（フレーム単位）は、フレームレート割る <var>frequency</var> （あるいは fps/freq。上の例では 24/2=12 フレーム）です。線グラフのライトグリーンの部分は、対象とするフレーム（ここではフレーム 1）のすべてのサンプルを表しています。特定のフレームにおけるサンプル数は、<var>samplerate</var> 割るフレームレート（上の例では 48000/24 = 2000 サンプル）によって与えられます（棒グラフは <a href="histogram.htm">Histogram</a> を使って、線グラフは <a href="../externalfilters/audiograph.htm">AudioGraph</a> プラグインを使って作成されました）。</p>

<p>より一般的には、「n」を対象となるフレーム、「s」を対象となるサンプルとすると、上の波形は次の式によって説明されます（s は 0 から samplerate/framerate-1 まで）:</p>

<pre>g(n,s) = level * sin(2*pi*(frequency*n/framerate + s*frequency/samplerate))</pre>

<p>上の例では、「n」を対象となるフレーム、「s」を対象となるサンプルとすると、次のようになります（s は 0 から 1999 まで）:</p>

<pre>g(n,s) = 0.4 * sin(2*pi*(2*n/24 + s*2/48000))</pre>

<p><b>更新履歴:</b></p>
<table border="1">
  <tbody>
    <tr>
      <td>v2.54</td>
      <td>初版</td>
    </tr>
    <tr>
      <td>v2.56</td>
      <td>level の追加。</td>
    </tr>
  </tbody>
</table>

<p><kbd>原文 Date: 2007/07/13 00:53:01</kbd><br>
<kbd>日本語訳 $Date: 2008/07/07 21:54:12 $</kbd></p>
<form>
  <p><input TYPE="Button" VALUE="戻る"
onClick="history.go(-1)"></p>
</form>

<hr>
<div id="footnote">
<ul>
  <li>訳者註:
    <ul>
      <li><a name="footnote_1" class="footnote_link">*1</a> <span class="footnote_text">正弦波の波形。シヌソイドとも言う。参考: <a href="http://ja.wikipedia.org/wiki/%E6%AD%A3%E5%BC%A6%E6%B3%A2">正弦波 - Wikipedia</a></span></li>
    </ul>
  </li>
</ul>
</div>

</body>
</html>
